
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Análisis Exploratorio de Datos &#8212; Factores asociados al mecanismo de suicidio en Colombia (2015–2023)
</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css?v=6644e6bb" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Ver Código';</script>
    <script>let toggleHintHide = 'Ocultar Código';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = 'div.cell div.cell_input';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = 'div.cell div.cell_input';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Eda';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Citations" href="referencias.html" />
    <link rel="prev" title="Datos y metodología" href="Datos_Met.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/Logo.png" class="logo__image only-light" alt="Factores asociados al mecanismo de suicidio en Colombia (2015–2023)
 - Home"/>
    <script>document.write(`<img src="_static/Logo.png" class="logo__image only-dark" alt="Factores asociados al mecanismo de suicidio en Colombia (2015–2023)
 - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Suicidio en Colombia
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="Introduccion.html">Introducción</a></li>
<li class="toctree-l1"><a class="reference internal" href="Datos_Met.html">Datos y metodología</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Análisis Exploratorio de Datos</a></li>

<li class="toctree-l1"><a class="reference internal" href="referencias.html">Citations</a></li>

<li class="toctree-l1"><a class="reference internal" href="Ejercicios.html">Mapas</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2FEda.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/Eda.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Análisis Exploratorio de Datos</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Análisis Exploratorio de Datos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-del-analisis-una-mirada-inicial-a-los-datos">Fundamentos del Análisis: Una Mirada Inicial a los Datos</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">Análisis Univariado</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desarrollo-del-analisis-exploratorio-de-datos">Desarrollo del Análisis Exploratorio de Datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-por-sexo">Distribución por sexo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-sexo-por-ciclo-vital">Distribución de sexo por ciclo vital</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-edad-con-histograma-normalizado-y-kde">Distribución de edad con histograma normalizado y KDE.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#detectando-datos-atipicos-en-la-variable-edad-mediante-boxplot">Detectando datos atípicos en la variable edad mediante boxplot.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplot-de-edad">Boxplot de edad</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-frecuencias-de-mecanismos-causales">Distribución de frecuencias de mecanismos causales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dsitribucion-de-frecuencias-zona-rural-y-urbana">Dsitribución de frecuencias zona rural y urbana</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucion-anual-de-casos-del-hecho">Evolución anual de casos del hecho</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mapa-de-calor-de-casos-por-departamento-y-tabla-de-participacion-porcentual-por-departamento">Mapa de calor de casos por departamento y tabla de participación porcentual por departamento</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="analisis-exploratorio-de-datos">
<h1>Análisis Exploratorio de Datos<a class="headerlink" href="#analisis-exploratorio-de-datos" title="Link to this heading">#</a></h1>
<section id="fundamentos-del-analisis-una-mirada-inicial-a-los-datos">
<h2>Fundamentos del Análisis: Una Mirada Inicial a los Datos<a class="headerlink" href="#fundamentos-del-analisis-una-mirada-inicial-a-los-datos" title="Link to this heading">#</a></h2>
<p>El Análisis Exploratorio de Datos (EDA) constituye una etapa fundamental en toda investigación estadística, ya que permite comprender las características principales del conjunto de datos, identificar patrones, detectar posibles inconsistencias y orientar la preparación de la información antes del modelado.</p>
<p>En este estudio, el EDA tiene como propósito examinar los registros de suicidios en Colombia durante el periodo 2015–2023, con el fin de describir las variables sociodemográficas y contextuales asociadas y evaluar la calidad de los datos para la construcción de un modelo de regresión XGBoost Regressor.</p>
<p>En primer lugar, se realiza una revisión general del dataset, verificando el número de observaciones, la disponibilidad de variables y la presencia de valores faltantes o categorías indeterminadas. Posteriormente, se lleva a cabo un análisis univariado, en el que se describen la distribución de la variable dependiente (mecanismo de suicidio: generadores de asfixia vs otros) y de las principales variables independientes (sexo, edad, estado civil, escolaridad, escenario, zona, entre otras).</p>
<p>En una segunda fase, se desarrolla un análisis bivariado, explorando las asociaciones preliminares entre el mecanismo de suicidio y las variables sociodemográficas/contextuales. Esto incluye el uso de tablas de contingencia, gráficos comparativos y estimaciones de razones de momios (odds ratios) crudas en variables binarias.</p>
<p>Finalmente, a partir de los hallazgos del EDA, se definen las decisiones de recodificación, agrupación y preparación de variables que alimentarán el modelo de regresión XGBoost Regressor, asegurando la validez y consistencia de los resultados.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="analisis-univariado">
<h1>Análisis Univariado<a class="headerlink" href="#analisis-univariado" title="Link to this heading">#</a></h1>
<section id="desarrollo-del-analisis-exploratorio-de-datos">
<h2>Desarrollo del Análisis Exploratorio de Datos<a class="headerlink" href="#desarrollo-del-analisis-exploratorio-de-datos" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><ol class="arabic simple">
<li><p><em>Carga y dimensiones del DataFrame</em>:</p></li>
</ol>
</li>
</ul>
<p>El dataFrame contiene 23,137 registros y 42 variables, lo que proporciona una base sólida para el análisis estadístico y  la modelización, permitiendo explorar diversas características sociodemográficas y contextuales relacionadas con los suicidios en Colombia. Fuente: <a class="reference external" href="https://www.datos.gov.co/Justicia-y-Derecho/Presuntos-Suicidios-Colombia-2015-a-2024-Cifras-de/f75u-mirk/about_data">Datos Abiertos</a>, la cual es actualizada periódicamente por el Ministerio de Salud y Protección Social de Colombia.</p>
<p>Las variables incluyen información sobre el año del evento, la edad, el sexo, el estado civil, la escolaridad, el escenario del suicidio, la zona (urbana/rural), el departamento y municipio de ocurrencia, entre otras. Esta diversidad de variables permite un análisis integral de los factores asociados a los suicidios en el país.</p>
<p>Adicionalmente, se observa que algunas variables presentan valores faltantes o categorías indeterminadas, lo que requerirá una atención especial durante el análisis para asegurar la calidad y validez de los resultados.</p>
<p>Y finalmente al Dataframe se le adiccionan dos columnas nuevas: Longitud y Latitud, las cuales son obtenidas a partir de la columna Municipio de ocurrencia, mediante la librería geopy. Fuente: <a class="reference external" href="https://geoportal.dane.gov.co/servicios/descarga-y-metadatos/datos-geoestadisticos/">DANE</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 1. Carga, limpieza básica y Contar el número de filas y columnas en el DataFrame</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;https://raw.githubusercontent.com/jthowinsson/Suicidio_Colombia/main/Presuntos_Suicidios_con_Coor.csv&quot;</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>  <span class="c1"># separador coma</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(23544, 42)
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="2">
<li><p><em>Información general del DataFrame</em></p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 2. Información general del dataset</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Información general ---&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Información general ---
&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 23544 entries, 0 to 23543
Data columns (total 42 columns):
 #   Column                                Non-Null Count  Dtype  
---  ------                                --------------  -----  
 0   ID                                    23544 non-null  int64  
 1   Año del hecho                         23544 non-null  int64  
 2   Grupo de edad de la victima           23544 non-null  object 
 3   Grupo Mayor Menor de Edad             23544 non-null  object 
 4   Edad judicial                         23544 non-null  object 
 5   Ciclo Vital                           23544 non-null  object 
 6   Sexo de la victima                    23544 non-null  object 
 7   Estado Civil                          23544 non-null  object 
 8   País de Nacimiento de la Víctima      23544 non-null  object 
 9   Escolaridad                           23544 non-null  object 
 10  Pertenencia Grupal                    23544 non-null  object 
 11  Mes del hecho                         23544 non-null  object 
 12  Dia del hecho                         23544 non-null  object 
 13  Rango de Hora del Hecho X 3 Horas     23544 non-null  object 
 14  Código Dane Municipio                 23544 non-null  int64  
 15  Municipio del hecho DANE              23544 non-null  object 
 16  Departamento del hecho DANE           23544 non-null  object 
 17  Código Dane Departamento              23544 non-null  int64  
 18  Escenario del Hecho                   23544 non-null  object 
 19  Zona del Hecho                        23544 non-null  object 
 20  Actividad Durante el Hecho            23544 non-null  object 
 21  Circunstancia del Hecho               23544 non-null  object 
 22  Manera de Muerte                      23544 non-null  object 
 23  Mecanismo Causal                      23544 non-null  object 
 24  Diagnostico Topográfico de la Lesión  23544 non-null  object 
 25  Presunto Agresor                      23544 non-null  object 
 26  Condición de la Víctima               23544 non-null  object 
 27  Medio de Desplazamiento o Transporte  23544 non-null  object 
 28  Servicio del Vehículo                 23544 non-null  object 
 29  Clase o Tipo de Accidente             23544 non-null  object 
 30  Objeto de Colisión                    23544 non-null  object 
 31  Servicio del Objeto de Colisión       23544 non-null  object 
 32  Razón del Suicidio                    23544 non-null  object 
 33  Localidad del Hecho                   23544 non-null  object 
 34  Ancestro Racial                       23544 non-null  object 
 35  Codigo_Dane_Municipio_norm            23544 non-null  int64  
 36  Muni_Cod                              23536 non-null  float64
 37  Muni_Nom                              23536 non-null  object 
 38  Depto_Cod                             23536 non-null  float64
 39  Depto_Nom                             23536 non-null  object 
 40  latitud                               23536 non-null  float64
 41  longitud                              23536 non-null  float64
dtypes: float64(4), int64(5), object(33)
memory usage: 7.5+ MB
None
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="3">
<li><p><em>Visualizar las primeras filas del DataFrame</em></p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 3. Vista preliminar de los datos (head)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;--- Primeras filas ---&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="c1"># Configurar pandas para mostrar todas las columnas y todo el ancho</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_columns&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Primeras filas ---
   ID  Año del hecho Grupo de edad de la victima  \
0   1           2015                   (18 a 19)   
1   2           2015                   (25 a 29)   
2   3           2015                   (35 a 39)   
3   4           2015                   (55 a 59)   
4   5           2015                   (45 a 49)   

       Grupo Mayor Menor de Edad Edad judicial         Ciclo Vital  \
0  b) Mayores de Edad (&gt;18 años)     (18 a 19)  (18 a 28) Juventud   
1  b) Mayores de Edad (&gt;18 años)     (25 a 28)  (18 a 28) Juventud   
2  b) Mayores de Edad (&gt;18 años)     (35 a 39)   (29 a 59) Adultez   
3  b) Mayores de Edad (&gt;18 años)     (55 a 59)   (29 a 59) Adultez   
4  b) Mayores de Edad (&gt;18 años)     (45 a 49)   (29 a 59) Adultez   

  Sexo de la victima Estado Civil País de Nacimiento de la Víctima  \
0              Mujer   Soltero(a)                         Colombia   
1             Hombre   Soltero(a)                         Colombia   
2             Hombre  Unión libre                         Colombia   
3             Hombre   Soltero(a)                         Colombia   
4             Hombre   Soltero(a)                         Colombia   

                                Escolaridad  ...  \
0  Educación inicial y educación preescolar  ...   
1  Educación inicial y educación preescolar  ...   
2  Educación inicial y educación preescolar  ...   
3  Educación inicial y educación preescolar  ...   
4         Educación media o secundaria alta  ...   

                 Razón del Suicidio Localidad del Hecho Ancestro Racial  \
0                   Sin información           No aplica        Indigena   
1  Conflicto con pareja o ex pareja           No aplica         Mestizo   
2  Conflicto con pareja o ex pareja           No aplica         Mestizo   
3                   Sin información           No aplica         Mestizo   
4                   Sin información           No aplica         Mestizo   

  Codigo_Dane_Municipio_norm  Muni_Cod     Muni_Nom Depto_Cod  Depto_Nom  \
0                      66572   66572.0  PUEBLO RICO      66.0  RISARALDA   
1                      81001   81001.0       ARAUCA      81.0     ARAUCA   
2                      81220   81220.0  CRAVO NORTE      81.0     ARAUCA   
3                      63470   63470.0   MONTENEGRO      63.0    QUINDÍO   
4                      63130   63130.0      CALARCÁ      63.0    QUINDÍO   

    latitud   longitud  
0  5.222043 -76.030801  
1  7.072726 -70.747408  
2  6.303913 -70.204286  
3  4.565057 -75.749827  
4  4.520982 -75.646085  

[5 rows x 42 columns]
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="4">
<li><p><em>Resumen de tipos de variables y valores faltantes</em></p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 4. Resumen de tipos de variables</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="c1"># === 1) Cargar datos desde GitHub ===</span>
<span class="c1">#url = &quot;https://raw.githubusercontent.com/jthowinsson/Suicidio_Colombia/main/Presuntos_Suicidios_con_Coor.csv&quot;</span>
<span class="c1">#df = pd.read_csv(url, encoding=&quot;utf-8&quot;)  # separador coma</span>

<span class="c1"># === 2) Tabla 1: Dimensiones ===</span>
<span class="n">dimensiones</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Registros&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span>
    <span class="s2">&quot;Variables&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="p">})</span>

<span class="c1"># === 3) Conteo por tipo de variable (más robusto) ===</span>
<span class="n">n_numeric</span>   <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;number&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">n_categ</span>     <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;object&quot;</span><span class="p">,</span> <span class="s2">&quot;category&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">n_logical</span>   <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;bool&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">n_datetime</span>  <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;datetime64&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># ✅ Cambio aquí</span>

<span class="n">tipos_tbl</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Tipo de variable&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Numéricas&quot;</span><span class="p">,</span> <span class="s2">&quot;Categóricas&quot;</span><span class="p">,</span> <span class="s2">&quot;Lógicas&quot;</span><span class="p">,</span> <span class="s2">&quot;Fecha / Fecha-hora&quot;</span><span class="p">],</span>
    <span class="s2">&quot;Conteo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">n_numeric</span><span class="p">,</span> <span class="n">n_categ</span><span class="p">,</span> <span class="n">n_logical</span><span class="p">,</span> <span class="n">n_datetime</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">tipos_tbl</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% s</span><span class="s2">obre total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span> <span class="o">*</span> <span class="n">tipos_tbl</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># === 4) Mostrar tablas ===</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Dimensiones del dataset:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">dimensiones</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Variables por tipo:&quot;</span><span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">tipos_tbl</span><span class="p">)</span>

<span class="c1"># === 5) Opcional: visualización estilizada en Jupyter ===</span>
<span class="n">tipos_styled</span> <span class="o">=</span> <span class="p">(</span><span class="n">tipos_tbl</span><span class="o">.</span><span class="n">style</span>
    <span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s2">&quot;</span><span class="si">% s</span><span class="s2">obre total&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Conteo&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="si">% s</span><span class="s2">obre total&quot;</span><span class="p">],</span> <span class="o">**</span><span class="p">{</span><span class="s2">&quot;text-align&quot;</span><span class="p">:</span> <span class="s2">&quot;right&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;</span><span class="si">% s</span><span class="s2">obre total&quot;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;Blues&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">display</span><span class="p">(</span><span class="n">tipos_styled</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Nota: las variables &#39;Categóricas&#39; incluyen object/category; &quot;</span> \
<span class="s2">&quot;&#39;Fecha&#39; incluye datetime64 (con o sin zona horaria).&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dimensiones del dataset:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Registros</th>
      <th>Variables</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>23544</td>
      <td>42</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Variables por tipo:
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Tipo de variable</th>
      <th>Conteo</th>
      <th>% sobre total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Numéricas</td>
      <td>9</td>
      <td>21.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Categóricas</td>
      <td>33</td>
      <td>78.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Lógicas</td>
      <td>0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Fecha / Fecha-hora</td>
      <td>0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div></div><div class="output text_html"><style type="text/css">
#T_e2bcf_row0_col1, #T_e2bcf_row1_col1, #T_e2bcf_row2_col1, #T_e2bcf_row3_col1 {
  text-align: right;
}
#T_e2bcf_row0_col2 {
  text-align: right;
  background-color: #bfd8ed;
  color: #000000;
}
#T_e2bcf_row1_col2 {
  text-align: right;
  background-color: #08306b;
  color: #f1f1f1;
}
#T_e2bcf_row2_col2, #T_e2bcf_row3_col2 {
  text-align: right;
  background-color: #f7fbff;
  color: #000000;
}
</style>
<table id="T_e2bcf">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_e2bcf_level0_col0" class="col_heading level0 col0" >Tipo de variable</th>
      <th id="T_e2bcf_level0_col1" class="col_heading level0 col1" >Conteo</th>
      <th id="T_e2bcf_level0_col2" class="col_heading level0 col2" >% sobre total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_e2bcf_level0_row0" class="row_heading level0 row0" >0</th>
      <td id="T_e2bcf_row0_col0" class="data row0 col0" >Numéricas</td>
      <td id="T_e2bcf_row0_col1" class="data row0 col1" >9</td>
      <td id="T_e2bcf_row0_col2" class="data row0 col2" >21.4</td>
    </tr>
    <tr>
      <th id="T_e2bcf_level0_row1" class="row_heading level0 row1" >1</th>
      <td id="T_e2bcf_row1_col0" class="data row1 col0" >Categóricas</td>
      <td id="T_e2bcf_row1_col1" class="data row1 col1" >33</td>
      <td id="T_e2bcf_row1_col2" class="data row1 col2" >78.6</td>
    </tr>
    <tr>
      <th id="T_e2bcf_level0_row2" class="row_heading level0 row2" >2</th>
      <td id="T_e2bcf_row2_col0" class="data row2 col0" >Lógicas</td>
      <td id="T_e2bcf_row2_col1" class="data row2 col1" >0</td>
      <td id="T_e2bcf_row2_col2" class="data row2 col2" >0.0</td>
    </tr>
    <tr>
      <th id="T_e2bcf_level0_row3" class="row_heading level0 row3" >3</th>
      <td id="T_e2bcf_row3_col0" class="data row3 col0" >Fecha / Fecha-hora</td>
      <td id="T_e2bcf_row3_col1" class="data row3 col1" >0</td>
      <td id="T_e2bcf_row3_col2" class="data row3 col2" >0.0</td>
    </tr>
  </tbody>
</table>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Nota: las variables &#39;Categóricas&#39; incluyen object/category; &#39;Fecha&#39; incluye datetime64 (con o sin zona horaria).
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="5">
<li><p><em>Número de valores únicos por columna categórica</em></p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 5. Resumir las columnas utilizando describe()para obtener la distribución de las variables,</span>
<span class="n">df</span><span class="o">.</span><span class="n">select_dtypes</span><span class="p">([</span><span class="s1">&#39;object&#39;</span><span class="p">,</span><span class="s1">&#39;category&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">nunique</span><span class="p">()</span>  <span class="c1"># Número de valores únicos por columna categórica</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Grupo de edad de la victima              17
Grupo Mayor Menor de Edad                 2
Edad judicial                            17
Ciclo Vital                               6
Sexo de la victima                        2
Estado Civil                              7
País de Nacimiento de la Víctima         34
Escolaridad                              12
Pertenencia Grupal                       27
Mes del hecho                            13
Dia del hecho                             8
Rango de Hora del Hecho X 3 Horas        10
Municipio del hecho DANE                978
Departamento del hecho DANE              34
Escenario del Hecho                      51
Zona del Hecho                            4
Actividad Durante el Hecho               17
Circunstancia del Hecho                   1
Manera de Muerte                          1
Mecanismo Causal                         14
Diagnostico Topográfico de la Lesión     12
Presunto Agresor                          1
Condición de la Víctima                   1
Medio de Desplazamiento o Transporte      1
Servicio del Vehículo                     1
Clase o Tipo de Accidente                 1
Objeto de Colisión                        1
Servicio del Objeto de Colisión           1
Razón del Suicidio                       21
Localidad del Hecho                      23
Ancestro Racial                           8
Muni_Nom                                947
Depto_Nom                                33
dtype: int64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="6">
<li><p><em>Conteo de valores únicos por columna categórica</em></p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 6.  Para las variables categóricas, necesitamos utilizar el parámetro include=object</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="nb">object</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>       Grupo de edad de la victima      Grupo Mayor Menor de Edad  \
count                        23544                          23544   
unique                          17                              2   
top                      (20 a 24)  b) Mayores de Edad (&gt;18 años)   
freq                          3413                          21041   

       Edad judicial        Ciclo Vital Sexo de la victima Estado Civil  \
count          23544              23544              23544        23544   
unique            17                  6                  2            7   
top        (20 a 24)  (29 a 59) Adultez             Hombre   Soltero(a)   
freq            3413              10258              18928        11115   

       País de Nacimiento de la Víctima                Escolaridad  \
count                             23544                      23544   
unique                               34                         12   
top                            Colombia  Educación básica primaria   
freq                              22973                       6291   

       Pertenencia Grupal Mes del hecho Dia del hecho  \
count               23544         23544         23544   
unique                 27            13             8   
top               Ninguno          Mayo       Domingo   
freq                17026          2076          4252   

       Rango de Hora del Hecho X 3 Horas Municipio del hecho DANE  \
count                              23544                    23544   
unique                                10                      978   
top                      Sin información             Bogotá, D.C.   
freq                               16130                     3373   

       Departamento del hecho DANE Escenario del Hecho      Zona del Hecho  \
count                        23544               23544               23544   
unique                          34                  51                   4   
top                      Antioquia            Vivienda  Cabecera municipal   
freq                          3913               17380               17466   

       Actividad Durante el Hecho Circunstancia del Hecho  \
count                       23544                   23544   
unique                         17                       1   
top                          Otra   Autolesión voluntaria   
freq                         7552                   23544   

           Manera de Muerte        Mecanismo Causal  \
count                 23544                   23544   
unique                    1                      14   
top     Violenta - Suicidio  Generadores de asfixia   
freq                  23544                   15410   

       Diagnostico Topográfico de la Lesión Presunto Agresor  \
count                                 23544            23544   
unique                                   12                1   
top                        Trauma de cuello        No aplica   
freq                                  14471            23544   

       Condición de la Víctima Medio de Desplazamiento o Transporte  \
count                    23544                                23544   
unique                       1                                    1   
top                  No aplica                            No aplica   
freq                     23544                                23544   

       Servicio del Vehículo Clase o Tipo de Accidente Objeto de Colisión  \
count                  23544                     23544              23544   
unique                     1                         1                  1   
top                No aplica                 No aplica          No aplica   
freq                   23544                     23544              23544   

       Servicio del Objeto de Colisión Razón del Suicidio Localidad del Hecho  \
count                            23544              23544               23544   
unique                               1                 21                  23   
top                          No aplica    Sin información           No aplica   
freq                             23544              12444               20171   

       Ancestro Racial      Muni_Nom  Depto_Nom  
count            23544         23536      23536  
unique               8           947         33  
top            Mestizo  BOGOTÁ, D.C.  ANTIOQUIA  
freq             19524          3373       3913  
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="7">
<li><p><em>Valores nulos por columna</em>:
Número de valores nulos por columna</p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 7. Valores nulos por columna</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">--- Valores nulos ---&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--- Valores nulos ---
ID                                      0
Año del hecho                           0
Grupo de edad de la victima             0
Grupo Mayor Menor de Edad               0
Edad judicial                           0
Ciclo Vital                             0
Sexo de la victima                      0
Estado Civil                            0
País de Nacimiento de la Víctima        0
Escolaridad                             0
Pertenencia Grupal                      0
Mes del hecho                           0
Dia del hecho                           0
Rango de Hora del Hecho X 3 Horas       0
Código Dane Municipio                   0
Municipio del hecho DANE                0
Departamento del hecho DANE             0
Código Dane Departamento                0
Escenario del Hecho                     0
Zona del Hecho                          0
Actividad Durante el Hecho              0
Circunstancia del Hecho                 0
Manera de Muerte                        0
Mecanismo Causal                        0
Diagnostico Topográfico de la Lesión    0
Presunto Agresor                        0
Condición de la Víctima                 0
Medio de Desplazamiento o Transporte    0
Servicio del Vehículo                   0
Clase o Tipo de Accidente               0
Objeto de Colisión                      0
Servicio del Objeto de Colisión         0
Razón del Suicidio                      0
Localidad del Hecho                     0
Ancestro Racial                         0
Codigo_Dane_Municipio_norm              0
Muni_Cod                                8
Muni_Nom                                8
Depto_Cod                               8
Depto_Nom                               8
latitud                                 8
longitud                                8
dtype: int64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="8">
<li><p><em>Valores Faltantes</em>:
Número total de valores faltantes en el DataFrame no tiene valores faltantes</p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 8 Valores Faltantes</span>
<span class="n">valores_faltantes</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="9">
<li><p><em>Mecanismos Causales</em>:
Conteo de frecuencias de mecanismos causales variable para análisis posterior como variable dependinete en el modelo</p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># 9. Contar frecuencias de mecanismos</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="n">conteo_mecanismos</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;Mecanismo Causal&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">conteo_mecanismos</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mecanismo Causal
Generadores de asfixia          15410
Tóxico                           3829
Proyectil de arma de fuego       2345
Contundente                      1405
Corto punzante                    255
Cortante                          135
Térmico                            80
Por determinar                     35
Caústico                           19
Corto contundente                  15
Agente o mecanismo explosivo        8
Punzante                            5
Eléctrico                           2
Mecanismo o agente explosivo        1
Name: count, dtype: int64
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><ol class="arabic simple" start="10">
<li><p><em>Distribución por sexo</em>:
Distribución de suicidios por sexo</p></li>
</ol>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># Detecta la columna de sexo</span>
<span class="n">col_sexo</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;sexo&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()),</span> <span class="kc">None</span><span class="p">)</span>
<span class="k">if</span> <span class="n">col_sexo</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No encuentro una columna que contenga &#39;sexo&#39; en su nombre.&quot;</span><span class="p">)</span>

<span class="c1"># Tabla n y %</span>
<span class="n">serie</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col_sexo</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
         <span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Nan&#39;</span><span class="p">:</span><span class="s1">&#39;Desconocido&#39;</span><span class="p">}))</span>
<span class="n">vc</span> <span class="o">=</span> <span class="n">serie</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pct</span> <span class="o">=</span> <span class="p">(</span><span class="n">vc</span> <span class="o">/</span> <span class="n">vc</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">tabla</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Frecuencia Absoluta&#39;</span><span class="p">:</span> <span class="n">vc</span><span class="p">,</span> <span class="s1">&#39;Frecuencia Porcentual %&#39;</span><span class="p">:</span> <span class="n">pct</span><span class="p">})</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">IPython.display</span><span class="w"> </span><span class="kn">import</span> <span class="n">display</span>
<span class="n">display</span><span class="p">(</span><span class="n">tabla</span><span class="p">)</span>

<span class="c1"># Gráfico</span>
<span class="c1">#fig, ax = plt.subplots()</span>
<span class="c1">#ax.bar(vc.index, vc.values)</span>
<span class="c1">#ax.set_title(&quot;Distribución por sexo&quot;)</span>
<span class="c1">#ax.set_ylabel(&quot;Número de casos&quot;)</span>
<span class="c1">#for i, v in enumerate(vc.values):</span>
    <span class="c1">#ax.text(i, v, f&quot;{v}\n{pct.iloc[i]}%&quot;, ha=&#39;center&#39;, va=&#39;bottom&#39;, fontsize=9)</span>
<span class="c1">#plt.show()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Frecuencia Absoluta</th>
      <th>Frecuencia Porcentual %</th>
    </tr>
    <tr>
      <th>Sexo de la victima</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Hombre</th>
      <td>18928</td>
      <td>80.4</td>
    </tr>
    <tr>
      <th>Mujer</th>
      <td>4616</td>
      <td>19.6</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<section id="distribucion-por-sexo">
<h3>Distribución por sexo<a class="headerlink" href="#distribucion-por-sexo" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="kn">import</span> <span class="n">StrMethodFormatter</span>

<span class="c1"># Serie limpia</span>
<span class="n">col_sexo</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;sexo&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()))</span>
<span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col_sexo</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
     <span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Nan&#39;</span><span class="p">:</span><span class="s1">&#39;Desconocido&#39;</span><span class="p">}))</span>
<span class="n">vc</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pct</span> <span class="o">=</span> <span class="p">(</span><span class="n">vc</span> <span class="o">/</span> <span class="n">vc</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Ordena por frecuencia</span>
<span class="n">vc</span> <span class="o">=</span> <span class="n">vc</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">pct</span> <span class="o">=</span> <span class="n">pct</span><span class="p">[</span><span class="n">vc</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>

<span class="c1"># Gráfico</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">bars</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">vc</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Distribución por sexo&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Número de casos&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">StrMethodFormatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{x:,.0f}</span><span class="s1">&#39;</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Anota n y %</span>
<span class="k">for</span> <span class="n">rect</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">bars</span><span class="p">,</span> <span class="n">vc</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">pct</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">get_x</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">get_height</span><span class="p">(),</span>
            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="se">\n</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/b3da8d862c2c2f1eb43a3efa77afd8938e60dd6749aa983bddc50283b2002ea1.png" src="_images/b3da8d862c2c2f1eb43a3efa77afd8938e60dd6749aa983bddc50283b2002ea1.png" />
</div>
</div>
</section>
<section id="distribucion-de-sexo-por-ciclo-vital">
<h3>Distribución de sexo por ciclo vital<a class="headerlink" href="#distribucion-de-sexo-por-ciclo-vital" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">matplotlib.ticker</span><span class="w"> </span><span class="kn">import</span> <span class="n">MultipleLocator</span><span class="p">,</span> <span class="n">PercentFormatter</span>

<span class="c1"># === Construir rowpct (100% por ciclo vital) ===</span>
<span class="n">col_sexo</span>  <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;sexo&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
<span class="n">col_ciclo</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;ciclo&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>

<span class="n">sexo</span>  <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col_sexo</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Nan&#39;</span><span class="p">:</span><span class="s1">&#39;Desconocido&#39;</span><span class="p">})</span>
<span class="n">ciclo</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">col_ciclo</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Nan&#39;</span><span class="p">:</span><span class="s1">&#39;Desconocido&#39;</span><span class="p">})</span>

<span class="n">tab</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">ciclo</span><span class="p">,</span> <span class="n">sexo</span><span class="p">)</span>                                  <span class="c1"># conteos</span>
<span class="n">rowpct</span> <span class="o">=</span> <span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>           <span class="c1"># % por fila</span>
<span class="n">rowpct</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">tab</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">]</span>  <span class="c1"># ordenar por n</span>

<span class="c1"># === Gráfica monocrómica ===</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">cats</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">cmap</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">cm</span><span class="o">.</span><span class="n">Blues_r</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="n">cmap</span><span class="p">(</span><span class="mf">0.35</span> <span class="o">+</span> <span class="mf">0.6</span><span class="o">*</span><span class="n">i</span><span class="o">/</span><span class="nb">max</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">cats</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cats</span><span class="p">))]</span>

<span class="n">rowpct</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">colors</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.8</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">PercentFormatter</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.35</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Porcentaje (%)&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Ciclo vital&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Distribución de sexo por ciclo vital (100%)&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">]:</span> <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Sexo&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">1.03</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">rowpct</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="n">cum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">row</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">cum</span> <span class="o">+</span> <span class="n">val</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">val</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#1f1f1f&#39;</span><span class="p">)</span>
        <span class="n">cum</span> <span class="o">+=</span> <span class="n">val</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/dcdada404c1a7cabaceedafccd5a9d2674dbe429df80e0ba7a14606352c7b9b0.png" src="_images/dcdada404c1a7cabaceedafccd5a9d2674dbe429df80e0ba7a14606352c7b9b0.png" />
</div>
</div>
</section>
<section id="distribucion-de-edad-con-histograma-normalizado-y-kde">
<h3>Distribución de edad con histograma normalizado y KDE.<a class="headerlink" href="#distribucion-de-edad-con-histograma-normalizado-y-kde" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">re</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># 1) Construir edad numérica desde posibles textos (p.ej. &quot;18 a 19&quot;)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Edad judicial&#39;</span><span class="p">]</span>
<span class="n">edad</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">edad</span><span class="o">.</span><span class="n">isna</span><span class="p">()</span><span class="o">.</span><span class="n">all</span><span class="p">():</span>
    <span class="n">edad</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d{1,3})&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>

<span class="c1"># 2) Filtrar plausibles</span>
<span class="n">edad</span> <span class="o">=</span> <span class="n">edad</span><span class="p">[(</span><span class="n">edad</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">edad</span><span class="o">&lt;=</span><span class="mi">120</span><span class="p">)]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># 3) Graficar solo si hay datos suficientes</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">edad</span><span class="p">)</span>
<span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Sin datos suficientes para densidad (n=</span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s2">). Revisa &#39;Edad judicial&#39;.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">edad</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="n">edad</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;kde&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Edad (años)&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Densidad&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribución de edad: histograma + densidad&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/66309ca867980ddb1e8de21eae0b6b50890e33a84c976affb2e4efc1e9220d20.png" src="_images/66309ca867980ddb1e8de21eae0b6b50890e33a84c976affb2e4efc1e9220d20.png" />
</div>
</div>
<p>Resumen: distribución de edad con histograma normalizado y KDE.</p>
<ul class="simple">
<li><p>Sesgo a la derecha: La mayoría entre ~15–35 años; cola larga hasta ~80.</p></li>
<li><p>Pico principal alrededor de ~20–25.</p></li>
<li><p>Pocos casos &gt;60; casi nulos &gt;80.</p></li>
<li><p>La curva suave confirma forma asimétrica y posible ligera multimodalidad cerca de los 20 y 30s.</p></li>
<li><p>Eje X muestra marcas negativas por el rango automático; tus datos válidos parten de 0.</p></li>
</ul>
</section>
<section id="detectando-datos-atipicos-en-la-variable-edad-mediante-boxplot">
<h3>Detectando datos atípicos en la variable edad mediante boxplot.<a class="headerlink" href="#detectando-datos-atipicos-en-la-variable-edad-mediante-boxplot" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>

<span class="c1"># Convertir a valores numéricos y limpiar</span>
<span class="n">edad</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Edad judicial&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;(\d+)&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="n">edad</span> <span class="o">=</span> <span class="n">edad</span><span class="p">[(</span><span class="n">edad</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">edad</span><span class="o">&lt;=</span><span class="mi">120</span><span class="p">)]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Verificar si hay datos suficientes</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">edad</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No hay suficientes datos válidos de edad para crear el boxplot&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
	<span class="c1"># Boxplot</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mf">2.8</span><span class="p">))</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">edad</span><span class="p">,</span> <span class="n">vert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">meanline</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Edad (años)&#39;</span><span class="p">)</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Boxplot de Edad (atípicos por IQR)&#39;</span><span class="p">)</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">edad</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="o">+</span> <span class="mi">5</span><span class="p">)</span>  <span class="c1"># ajuste dinámico del límite</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
	<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

	<span class="c1"># Conteo de atípicos (regla IQR)</span>
	<span class="n">q1</span><span class="p">,</span> <span class="n">q3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">percentile</span><span class="p">(</span><span class="n">edad</span><span class="p">,</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">75</span><span class="p">])</span>
	<span class="n">iqr</span> <span class="o">=</span> <span class="n">q3</span> <span class="o">-</span> <span class="n">q1</span>
	<span class="n">low</span><span class="p">,</span> <span class="n">high</span> <span class="o">=</span> <span class="n">q1</span> <span class="o">-</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">iqr</span><span class="p">,</span> <span class="n">q3</span> <span class="o">+</span> <span class="mf">1.5</span><span class="o">*</span><span class="n">iqr</span>
	<span class="n">n_low</span> <span class="o">=</span> <span class="p">(</span><span class="n">edad</span> <span class="o">&lt;</span> <span class="n">low</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
	<span class="n">n_high</span> <span class="o">=</span> <span class="p">(</span><span class="n">edad</span> <span class="o">&gt;</span> <span class="n">high</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Estadísticas de edad:&quot;</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Q1=</span><span class="si">{</span><span class="n">q1</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, Q3=</span><span class="si">{</span><span class="n">q3</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, IQR=</span><span class="si">{</span><span class="n">iqr</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Límites para atípicos: [</span><span class="si">{</span><span class="n">low</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">high</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">]&quot;</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Atípicos bajos: </span><span class="si">{</span><span class="n">n_low</span><span class="si">}</span><span class="s2">, Atípicos altos: </span><span class="si">{</span><span class="n">n_high</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total de registros válidos: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">edad</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/97558ef719e8e7d358538cadff7dd4f1ce5b5928cda57dcca9ba95315b540065.png" src="_images/97558ef719e8e7d358538cadff7dd4f1ce5b5928cda57dcca9ba95315b540065.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadísticas de edad:
Q1=20.0, Q3=50.0, IQR=30.0
Límites para atípicos: [-25.0, 95.0]
Atípicos bajos: 0, Atípicos altos: 0
Total de registros válidos: 23544
</pre></div>
</div>
</div>
</div>
</section>
<section id="boxplot-de-edad">
<h3>Boxplot de edad<a class="headerlink" href="#boxplot-de-edad" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">unicodedata</span>

<span class="k">def</span><span class="w"> </span><span class="nf">norm</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">unicodedata</span><span class="o">.</span><span class="n">normalize</span><span class="p">(</span><span class="s1">&#39;NFKD&#39;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">unicodedata</span><span class="o">.</span><span class="n">combining</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span>

<span class="c1"># Normalize column names</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">norm</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>

<span class="c1"># Find correct column names</span>
<span class="n">sexo_col</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;sexo&#39;</span> <span class="ow">in</span> <span class="n">col</span><span class="p">)</span>
<span class="n">edad_col</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;edad&#39;</span> <span class="ow">in</span> <span class="n">col</span> <span class="ow">and</span> <span class="s1">&#39;grupo&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">col</span><span class="p">)</span>

<span class="c1"># Create clean base</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">sexo_col</span><span class="p">,</span> <span class="n">edad_col</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">base</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">,</span> <span class="s1">&#39;edad&#39;</span><span class="p">]</span>

<span class="c1"># Clean sex data</span>
<span class="n">base</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>

<span class="c1"># Clean age data - first try direct numeric conversion</span>
<span class="n">base</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">extract</span><span class="p">(</span><span class="s1">&#39;(\d+)&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>

<span class="c1"># Filter valid ages and remove NaN</span>
<span class="n">base</span> <span class="o">=</span> <span class="n">base</span><span class="p">[(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">]</span><span class="o">&gt;=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;edad&#39;</span><span class="p">]</span><span class="o">&lt;=</span><span class="mi">100</span><span class="p">)]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="c1"># Create groups</span>
<span class="n">grupos_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">s</span><span class="p">:</span> <span class="n">base</span><span class="p">[</span><span class="n">base</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span><span class="o">==</span><span class="n">s</span><span class="p">][</span><span class="s1">&#39;edad&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span> 
              <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">base</span><span class="p">[</span><span class="s1">&#39;sexo&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()}</span>
<span class="n">grupos_dict</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">grupos_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">}</span>

<span class="c1"># Prepare plot data</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">  (n=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">)&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">grupos_dict</span><span class="o">.</span><span class="n">items</span><span class="p">()]</span>
<span class="n">grupos</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">grupos_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
<span class="n">meds</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">grupos</span><span class="p">]</span>

<span class="c1"># Create plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span>
    <span class="s2">&quot;figure.dpi&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
    <span class="s2">&quot;axes.spines.top&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;axes.spines.right&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;font.size&quot;</span><span class="p">:</span> <span class="mi">11</span>
<span class="p">})</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mf">3.8</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">grupos</span><span class="p">,</span> 
          <span class="n">vert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> 
          <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span>
          <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">meanline</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">notch</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
          <span class="n">patch_artist</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">boxprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;#e9eef3&quot;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s2">&quot;#2b2b2b&quot;</span><span class="p">),</span>
          <span class="n">medianprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#1a1a1a&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">),</span>
          <span class="n">meanprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s2">&quot;#666666&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">1.2</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Edad (años)&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Sexo&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">90</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>

<span class="c1"># Add median labels</span>
<span class="k">for</span> <span class="n">y</span><span class="p">,</span> <span class="n">m</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">meds</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="mf">0.12</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;med=</span><span class="si">{</span><span class="n">m</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s2">&quot;center&quot;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s2">&quot;bottom&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Edad por sexo — Presuntos suicidios, Colombia 2015–2023&quot;</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Print summary statistics</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Estadísticas por sexo:&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">sex</span><span class="p">,</span> <span class="n">ages</span> <span class="ow">in</span> <span class="n">grupos_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="si">{</span><span class="n">sex</span><span class="si">}</span><span class="s2">:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;n = </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">ages</span><span class="p">)</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Media = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">ages</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Mediana = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">ages</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Desv. Est. = </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ages</span><span class="p">)</span><span class="si">:</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/var/folders/ky/w_yrzmks6yv4tnlq0djdqvyh0000gn/T/ipykernel_84687/972984195.py:50: MatplotlibDeprecationWarning: The &#39;labels&#39; parameter of boxplot() has been renamed &#39;tick_labels&#39; since Matplotlib 3.9; support for the old name will be dropped in 3.11.
  ax.boxplot(grupos,
</pre></div>
</div>
<img alt="_images/d907680dcd022bf5fb2d0890700bff66dce38a7008a3592b44161e76fe04df54.png" src="_images/d907680dcd022bf5fb2d0890700bff66dce38a7008a3592b44161e76fe04df54.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Estadísticas por sexo:

Mujer:
n = 4,616
Media = 29.7
Mediana = 25.0
Desv. Est. = 16.5

Hombre:
n = 18,928
Media = 37.7
Mediana = 35.0
Desv. Est. = 18.5
</pre></div>
</div>
</div>
</div>
</section>
<section id="distribucion-de-frecuencias-de-mecanismos-causales">
<h3>Distribución de frecuencias de mecanismos causales<a class="headerlink" href="#distribucion-de-frecuencias-de-mecanismos-causales" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span><span class="o">,</span><span class="w"> </span><span class="nn">textwrap</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tw</span>

<span class="n">COL</span> <span class="o">=</span> <span class="s1">&#39;mecanismo_causal&#39;</span>  <span class="c1"># &lt;-- ajusta</span>

<span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">COL</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
       <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">ne</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">),</span> <span class="s1">&#39;Falta_dato&#39;</span><span class="p">))</span>
<span class="n">freq</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pct</span>  <span class="o">=</span> <span class="p">(</span><span class="n">freq</span><span class="o">/</span><span class="n">freq</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">pct</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">  (</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%)&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Mecanismo causal&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Mecanismo causal — Barras ordenadas por frecuencia&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">pos</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">))</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">)))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tw</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">28</span><span class="p">))</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
<span class="c1"># envolver etiquetas largas</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tw</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="mi">28</span><span class="p">))</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">freq</span><span class="o">.</span><span class="n">index</span> <span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/f20af1a999fa40fb12394fb82ed8beb74bc5c770f89e69d330a2b0c9ca470efe.png" src="_images/f20af1a999fa40fb12394fb82ed8beb74bc5c770f89e69d330a2b0c9ca470efe.png" />
</div>
</div>
<p>Mecanismo Causal Lollipop: esta es una visualización que combina elementos de un gráfico de barras y un gráfico de puntos para mostrar la frecuencia de cada mecanismo causal de suicidio. Cada línea representa un mecanismo, con un punto en la parte superior que indica su frecuencia. y exhibe los mecanismos causales más comunes y menos comunes de suicidio en el conjunto de datos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">COL</span> <span class="o">=</span> <span class="s1">&#39;mecanismo_causal&#39;</span>

<span class="n">freq</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">COL</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
          <span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">ne</span><span class="p">(</span><span class="s1">&#39;nan&#39;</span><span class="p">),</span><span class="s1">&#39;Falta_dato&#39;</span><span class="p">)</span>
          <span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
          <span class="o">.</span><span class="n">sort_values</span><span class="p">())</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">freq</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">150</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Mecanismo causal — Lollipop&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/e38bccf1794909c63ab097205874c3ff6e25f0221daac57fa9166c9bc15dff5f.png" src="_images/e38bccf1794909c63ab097205874c3ff6e25f0221daac57fa9166c9bc15dff5f.png" />
</div>
</div>
<p>Mecanismos causales por sexo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span><span class="o">,</span><span class="w"> </span><span class="nn">textwrap</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tw</span>

<span class="n">COL_MEC</span> <span class="o">=</span> <span class="s1">&#39;mecanismo_causal&#39;</span>
<span class="n">COL_SEX</span> <span class="o">=</span> <span class="s1">&#39;sexo_de_la_victima&#39;</span>
<span class="n">TOP_K</span>   <span class="o">=</span> <span class="mi">6</span>

<span class="c1"># Limpieza</span>
<span class="n">df_</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">COL_SEX</span><span class="p">,</span> <span class="n">COL_MEC</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_</span><span class="p">[</span><span class="n">COL_SEX</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_SEX</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;nan&#39;</span><span class="p">:</span><span class="s1">&#39;Falta_dato&#39;</span><span class="p">})</span>

<span class="c1"># Top-K global + Otros</span>
<span class="n">top</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="n">TOP_K</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">df_</span><span class="p">[</span><span class="s1">&#39;mec_plot&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">top</span><span class="p">),</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">],</span> <span class="s1">&#39;Otros&#39;</span><span class="p">)</span>

<span class="c1"># % por sexo</span>
<span class="n">tab</span> <span class="o">=</span> <span class="n">df_</span><span class="o">.</span><span class="n">value_counts</span><span class="p">([</span><span class="n">COL_SEX</span><span class="p">,</span><span class="s1">&#39;mec_plot&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">rowpct</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># Selecciona los 2 sexos más frecuentes para panel limpio</span>
<span class="n">sexos</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">cats</span>  <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sexos</span><span class="p">),</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sexos</span><span class="p">)</span><span class="o">==</span><span class="mi">1</span><span class="p">:</span> <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">axes</span><span class="p">]</span>

<span class="k">for</span> <span class="n">ax</span><span class="p">,</span> <span class="n">sx</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">axes</span><span class="p">,</span> <span class="n">sexos</span><span class="p">):</span>
    <span class="n">vals</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sx</span><span class="p">,</span> <span class="n">cats</span><span class="p">]</span>
    <span class="n">y</span>    <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cats</span><span class="p">))</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">vals</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#4c78a8&#39;</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">vals</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">v</span><span class="o">&gt;=</span><span class="mi">5</span><span class="p">:</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">sx</span><span class="si">}</span><span class="s1">  (n=</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sx</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">11</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cats</span><span class="p">)))</span>
<span class="n">axes</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tw</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cats</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s1">&#39;Mecanismo causal — Distribución 100% por sexo&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="c1"># plt.savefig(&#39;mecanismo_por_sexo_panel.pdf&#39;, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/c3135e2c737b0232bd7f26508941230f596128945d8017bc61351eca21ec9adb.png" src="_images/c3135e2c737b0232bd7f26508941230f596128945d8017bc61351eca21ec9adb.png" />
</div>
</div>
<p>Mecanismo Causal Diferencia porcentual por sexo</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span><span class="o">,</span><span class="w"> </span><span class="nn">textwrap</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tw</span>

<span class="n">COL_MEC</span> <span class="o">=</span> <span class="s1">&#39;mecanismo_causal&#39;</span>
<span class="n">COL_SEX</span> <span class="o">=</span> <span class="s1">&#39;sexo_de_la_victima&#39;</span>
<span class="n">TOP_K</span>   <span class="o">=</span> <span class="mi">10</span>

<span class="n">df_</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="n">COL_SEX</span><span class="p">,</span> <span class="n">COL_MEC</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">df_</span><span class="p">[</span><span class="n">COL_SEX</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_SEX</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
<span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_MEC</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;nan&#39;</span><span class="p">:</span><span class="s1">&#39;Falta_dato&#39;</span><span class="p">})</span>

<span class="c1"># Toma dos sexos principales</span>
<span class="n">sexos</span> <span class="o">=</span> <span class="n">df_</span><span class="p">[</span><span class="n">COL_SEX</span><span class="p">]</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sexos</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Se requieren al menos dos categorías de sexo para la comparación.&#39;</span><span class="p">)</span>

<span class="c1"># % por sexo y mecanismo</span>
<span class="n">tab</span> <span class="o">=</span> <span class="n">df_</span><span class="o">.</span><span class="n">value_counts</span><span class="p">([</span><span class="n">COL_SEX</span><span class="p">,</span> <span class="n">COL_MEC</span><span class="p">])</span><span class="o">.</span><span class="n">unstack</span><span class="p">(</span><span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">rowpct</span> <span class="o">=</span> <span class="n">tab</span><span class="o">.</span><span class="n">div</span><span class="p">(</span><span class="n">tab</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span>
<span class="n">rowpct</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sexos</span><span class="p">]</span>

<span class="c1"># Top-K por suma promedio</span>
<span class="n">cats</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="n">TOP_K</span><span class="p">]</span>
<span class="n">D</span> <span class="o">=</span> <span class="p">(</span><span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sexos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cats</span><span class="p">]</span> <span class="o">-</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sexos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cats</span><span class="p">])</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">s</span><span class="p">:</span> <span class="n">s</span><span class="o">.</span><span class="n">abs</span><span class="p">(),</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cats_ord</span> <span class="o">=</span> <span class="n">D</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

<span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">cats_ord</span><span class="p">))</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sexos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">cats_ord</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">rowpct</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">sexos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">cats_ord</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span><span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">],</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">i</span><span class="p">],</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#9da3a6&#39;</span><span class="p">)</span>  <span class="c1"># línea</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">sexos</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#4c78a8&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">sexos</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#f58518&#39;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">v1</span><span class="p">,</span><span class="n">v2</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mf">0.2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v1</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v2</span><span class="p">,</span> <span class="n">i</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v2</span><span class="si">:</span><span class="s1">.0f</span><span class="si">}</span><span class="s1">%&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;top&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">set_yticks</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_yticklabels</span><span class="p">([</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tw</span><span class="o">.</span><span class="n">wrap</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="mi">28</span><span class="p">))</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">cats_ord</span><span class="p">],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;%&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Mecanismo causal — Diferencia porcentual por sexo&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">frameon</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="c1"># plt.savefig(&#39;mecanismo_dumbbell.pdf&#39;, bbox_inches=&#39;tight&#39;)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/34f590ede392699158abdb510fba86ad1c70a07afda18a142fddcca39449f552.png" src="_images/34f590ede392699158abdb510fba86ad1c70a07afda18a142fddcca39449f552.png" />
</div>
</div>
<p>Este gráfico de barras horizontales muestra la diferencia porcentual en la frecuencia de cada mecanismo causal de suicidio entre hombres y mujeres. Las barras a la derecha del cero indican mecanismos más comunes en hombres, mientras que las barras a la izquierda indican mecanismos más comunes en mujeres. Esta visualización ayuda a identificar las diferencias de género en los métodos de suicidio.</p>
</section>
<section id="dsitribucion-de-frecuencias-zona-rural-y-urbana">
<h3>Dsitribución de frecuencias zona rural y urbana<a class="headerlink" href="#dsitribucion-de-frecuencias-zona-rural-y-urbana" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">COL</span> <span class="o">=</span> <span class="s1">&#39;zona_del_hecho&#39;</span>  <span class="c1"># ajusta al nombre exacto</span>

<span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">COL</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">title</span><span class="p">()</span>
       <span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Nan&#39;</span><span class="p">:</span><span class="s1">&#39;Falta_dato&#39;</span><span class="p">,</span><span class="s1">&#39;N/a&#39;</span><span class="p">:</span><span class="s1">&#39;Falta_dato&#39;</span><span class="p">}))</span>
<span class="c1"># Normaliza etiquetas comunes</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">({</span><span class="s1">&#39;Urbano&#39;</span><span class="p">:</span><span class="s1">&#39;Urbana&#39;</span><span class="p">,</span><span class="s1">&#39;Rural&#39;</span><span class="p">:</span><span class="s1">&#39;Rural&#39;</span><span class="p">})</span>

<span class="n">freq</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">value_counts</span><span class="p">(</span><span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">pct</span>  <span class="o">=</span> <span class="p">(</span><span class="n">freq</span><span class="o">/</span><span class="n">freq</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.6</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">v</span><span class="p">,</span><span class="n">p</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">freq</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">pct</span><span class="o">.</span><span class="n">values</span><span class="p">)):</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">v</span><span class="si">:</span><span class="s1">,.0f</span><span class="si">}</span><span class="s1">  (</span><span class="si">{</span><span class="n">p</span><span class="si">:</span><span class="s1">.1f</span><span class="si">}</span><span class="s1">%)&#39;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;.&#39;</span><span class="p">),</span>
            <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Zona del hecho&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Zona del hecho — Barras ordenadas (Urbana/Rural)&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/de218ed42b6e51af4d45f5952c4d55f1ed34b3e41b1edc3843b6e597a0ed5020.png" src="_images/de218ed42b6e51af4d45f5952c4d55f1ed34b3e41b1edc3843b6e597a0ed5020.png" />
</div>
</div>
</section>
<section id="evolucion-anual-de-casos-del-hecho">
<h3>Evolución anual de casos del hecho<a class="headerlink" href="#evolucion-anual-de-casos-del-hecho" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="c1"># --- Detecta fecha/año ---</span>
<span class="k">if</span> <span class="s1">&#39;fecha_del_hecho&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">fe</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;fecha_del_hecho&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">fe</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="k">elif</span> <span class="s1">&#39;anio_del_hecho&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;anio_del_hecho&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="k">elif</span> <span class="s1">&#39;ano_del_hecho&#39;</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
    <span class="n">year</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ano_del_hecho&#39;</span><span class="p">],</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;coerce&#39;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s1">&#39;No encuentro columna de año. Usa fecha_del_hecho / anio_del_hecho / ano_del_hecho.&#39;</span><span class="p">)</span>

<span class="n">ser</span> <span class="o">=</span> <span class="n">year</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mf">4.5</span><span class="p">),</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="k">for</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">ser</span><span class="o">.</span><span class="n">values</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">y</span><span class="o">==</span><span class="n">ser</span><span class="o">.</span><span class="n">max</span><span class="p">()</span> <span class="ow">or</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">min</span><span class="p">(),</span> <span class="n">ser</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">max</span><span class="p">()):</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;bottom&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">9</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Año del hecho — Serie de tiempo · n=</span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">ser</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Año&#39;</span><span class="p">);</span> <span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Frecuencia&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[[</span><span class="s1">&#39;top&#39;</span><span class="p">,</span><span class="s1">&#39;right&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">();</span> <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/a1a383e52e259b66113309b8df67efc66e69ad8e8060558e58fbafa3b0633fe0.png" src="_images/a1a383e52e259b66113309b8df67efc66e69ad8e8060558e58fbafa3b0633fe0.png" />
</div>
</div>
<ul class="simple">
<li><p>La gráfica muestra la evolución anual de casos con un claro crecimiento tendencial entre 2015 y 2018, leve descenso en 2019, caída marcada en 2020 y recuperación acelerada desde 2021 hasta alcanzar el máximo en 2023.</p></li>
<li><p>Se observa un mínimo de 2.068 casos en 2015 y un máximo de 3.195 en 2023, con total <span class="math notranslate nohighlight">\(n = 23.544\)</span>. La forma en <span class="math notranslate nohighlight">\(V\)</span> alrededor de 2020 sugiere un choque exógeno o un posible subregistro en ese año; no se evalúa estacionalidad porque la unidad temporal es anual. La tendencia posterior supera el nivel pre-choque, lo que indica reanudación y aceleración de la dinámica previa.</p></li>
</ul>
</section>
<section id="mapa-de-calor-de-casos-por-departamento-y-tabla-de-participacion-porcentual-por-departamento">
<h3>Mapa de calor de casos por departamento y tabla de participación porcentual por departamento<a class="headerlink" href="#mapa-de-calor-de-casos-por-departamento-y-tabla-de-participacion-porcentual-por-departamento" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># =========================</span>
<span class="c1"># Mapa + Tablas PRO con tus datos (sin GeoJSON)</span>
<span class="c1"># =========================</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span><span class="o">,</span><span class="w"> </span><span class="nn">unicodedata</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.express</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">px</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">plotly.io</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pio</span>

<span class="c1"># ---------- Render del mapa ----------</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">pio</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s2">&quot;notebook_connected&quot;</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="n">pio</span><span class="o">.</span><span class="n">renderers</span><span class="o">.</span><span class="n">default</span> <span class="o">=</span> <span class="s2">&quot;browser&quot;</span>

<span class="c1"># ---------- 1) Detecta columna de departamento ----------</span>
<span class="c1"># 0. Detectar automáticamente la columna de departamento (sin prints)</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">DeprecationWarning</span><span class="p">)</span>

<span class="n">dept_col_candidates</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;Departamento del hecho DANE&#39;</span><span class="p">,</span><span class="s1">&#39;Depto_Nom&#39;</span><span class="p">,</span><span class="s1">&#39;Departamento_ocurrencia&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Departamento&#39;</span><span class="p">,</span><span class="s1">&#39;DEPARTAMENTO&#39;</span><span class="p">,</span><span class="s1">&#39;Depto&#39;</span><span class="p">,</span><span class="s1">&#39;departamento&#39;</span>
<span class="p">]</span>

<span class="n">dept_col</span> <span class="o">=</span> <span class="nb">next</span><span class="p">((</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">dept_col_candidates</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="kc">None</span><span class="p">)</span>
<span class="k">if</span> <span class="n">dept_col</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">matches</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="s1">&#39;depart&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">matches</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="s2">&quot;No se encontró columna de departamento.&quot;</span><span class="p">)</span>
    <span class="n">dept_col</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>


<span class="c1"># ---------- 2) Verifica columnas lat/lon de tu base ----------</span>
<span class="k">assert</span> <span class="p">{</span><span class="s1">&#39;latitud&#39;</span><span class="p">,</span><span class="s1">&#39;longitud&#39;</span><span class="p">}</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">),</span> <span class="s2">&quot;Faltan columnas &#39;latitud&#39; y &#39;longitud&#39;&quot;</span>

<span class="c1"># ---------- 3) Limpieza y agregación ----------</span>
<span class="c1"># Excluye &#39;Sin información&#39; si existe</span>
<span class="n">df_clean</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="n">dept_col</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">ne</span><span class="p">(</span><span class="s2">&quot;Sin información&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Agrega por departamento: centroides desde TUS coordenadas y conteo</span>
<span class="n">map_data</span> <span class="o">=</span> <span class="p">(</span><span class="n">df_clean</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">dept_col</span><span class="p">,</span> <span class="n">dropna</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;latitud&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">),</span>
                 <span class="n">lon</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;longitud&#39;</span><span class="p">,</span><span class="s1">&#39;mean&#39;</span><span class="p">),</span>
                 <span class="n">casos</span><span class="o">=</span><span class="p">(</span><span class="n">dept_col</span><span class="p">,</span><span class="s1">&#39;size&#39;</span><span class="p">))</span>
            <span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>

<span class="c1"># Etiquetas y tamaño de burbuja</span>
<span class="k">def</span><span class="w"> </span><span class="nf">_title</span><span class="p">(</span><span class="n">s</span><span class="p">):</span> 
    <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="c1"># normaliza uso de mayúsculas en preposiciones frecuentes</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\b(de|del|la|y)\b&#39;</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">m</span><span class="p">:</span> <span class="n">m</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">s</span><span class="o">.</span><span class="n">title</span><span class="p">(),</span> <span class="n">flags</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">I</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="n">map_data</span><span class="p">[</span><span class="s1">&#39;dept_clean&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">map_data</span><span class="p">[</span><span class="n">dept_col</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">_title</span><span class="p">)</span>
<span class="n">map_data</span><span class="p">[</span><span class="s1">&#39;size_norm&#39;</span><span class="p">]</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log1p</span><span class="p">(</span><span class="n">map_data</span><span class="p">[</span><span class="s1">&#39;casos&#39;</span><span class="p">])</span> <span class="o">*</span> <span class="mi">6</span>

<span class="c1"># ---------- 4) Mapa (usa scatter_map si está disponible; si no, fallback a scatter_mapbox) ----------</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_map</span><span class="p">(</span>
        <span class="n">map_data</span><span class="p">,</span>
        <span class="n">lat</span><span class="o">=</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="s2">&quot;size_norm&quot;</span><span class="p">,</span> <span class="n">size_max</span><span class="o">=</span><span class="mi">28</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">,</span> <span class="n">color_continuous_scale</span><span class="o">=</span><span class="s2">&quot;Viridis&quot;</span><span class="p">,</span>
        <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;dept_clean&quot;</span><span class="p">,</span>
        <span class="n">hover_data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;casos&quot;</span><span class="p">:</span><span class="s2">&quot;:,&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;size_norm&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">},</span>
        <span class="n">zoom</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">4.6</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mf">74.1</span><span class="p">),</span>
        <span class="n">map_style</span><span class="o">=</span><span class="s2">&quot;open-street-map&quot;</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Presuntos suicidios por departamento — Total: </span><span class="si">{</span><span class="n">map_data</span><span class="p">[</span><span class="s1">&#39;casos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> casos&quot;</span>
    <span class="p">)</span>
<span class="k">except</span> <span class="ne">Exception</span><span class="p">:</span>
    <span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter_mapbox</span><span class="p">(</span>
        <span class="n">map_data</span><span class="p">,</span>
        <span class="n">lat</span><span class="o">=</span><span class="s2">&quot;lat&quot;</span><span class="p">,</span> <span class="n">lon</span><span class="o">=</span><span class="s2">&quot;lon&quot;</span><span class="p">,</span>
        <span class="n">size</span><span class="o">=</span><span class="s2">&quot;size_norm&quot;</span><span class="p">,</span> <span class="n">size_max</span><span class="o">=</span><span class="mi">28</span><span class="p">,</span>
        <span class="n">color</span><span class="o">=</span><span class="s2">&quot;casos&quot;</span><span class="p">,</span> <span class="n">color_continuous_scale</span><span class="o">=</span><span class="s2">&quot;Viridis&quot;</span><span class="p">,</span>
        <span class="n">hover_name</span><span class="o">=</span><span class="s2">&quot;dept_clean&quot;</span><span class="p">,</span>
        <span class="n">hover_data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;casos&quot;</span><span class="p">:</span><span class="s2">&quot;:,&quot;</span><span class="p">,</span> <span class="s2">&quot;lat&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;lon&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">,</span> <span class="s2">&quot;size_norm&quot;</span><span class="p">:</span><span class="kc">False</span><span class="p">},</span>
        <span class="n">zoom</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">4.6</span><span class="p">,</span> <span class="n">lon</span><span class="o">=-</span><span class="mf">74.1</span><span class="p">),</span>
        <span class="n">mapbox_style</span><span class="o">=</span><span class="s2">&quot;open-street-map&quot;</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Presuntos suicidios por departamento — Total: </span><span class="si">{</span><span class="n">map_data</span><span class="p">[</span><span class="s1">&#39;casos&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="si">:</span><span class="s2">,</span><span class="si">}</span><span class="s2"> casos&quot;</span>
    <span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">t</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="n">height</span><span class="o">=</span><span class="mi">700</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">950</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># ---------- 5) Tablas PRO ----------</span>
<span class="c1"># Tabla completa ordenada + participación y ranking</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="p">(</span><span class="n">map_data</span>
       <span class="o">.</span><span class="n">assign</span><span class="p">(</span><span class="n">Participación</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="n">d</span><span class="p">[</span><span class="s2">&quot;casos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
       <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;casos&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">tbl</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;Rank&quot;</span><span class="p">,</span> <span class="n">tbl</span><span class="o">.</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">tbl</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="n">dept_col</span><span class="p">:</span> <span class="s2">&quot;Departamento&quot;</span><span class="p">,</span> <span class="s2">&quot;casos&quot;</span><span class="p">:</span> <span class="s2">&quot;Casos&quot;</span><span class="p">})</span>

<span class="n">estilo_tbl</span> <span class="o">=</span> <span class="p">(</span><span class="n">tbl</span><span class="o">.</span><span class="n">style</span>
    <span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s2">&quot;Casos&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Participación&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">hide</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Casos&quot;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;#b3d1ff&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">background_gradient</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Participación&quot;</span><span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s2">&quot;YlOrRd&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;text-align&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">set_table_styles</span><span class="p">([{</span><span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;th&quot;</span><span class="p">,</span> <span class="s2">&quot;props&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;text-align&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;font-weight&quot;</span><span class="p">,</span> <span class="s2">&quot;500&quot;</span><span class="p">)]}])</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">estilo_tbl</span><span class="p">)</span>

<span class="c1"># Top 10 compacto</span>
<span class="n">top10</span> <span class="o">=</span> <span class="n">tbl</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">estilo_top10</span> <span class="o">=</span> <span class="p">(</span><span class="n">top10</span><span class="o">.</span><span class="n">style</span>
    <span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s2">&quot;Casos&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;Participación&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1%}</span><span class="s2">&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">hide</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">set_properties</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="s2">&quot;text-align&quot;</span><span class="p">:</span> <span class="s2">&quot;left&quot;</span><span class="p">})</span>
    <span class="o">.</span><span class="n">set_table_styles</span><span class="p">([{</span><span class="s2">&quot;selector&quot;</span><span class="p">:</span> <span class="s2">&quot;th&quot;</span><span class="p">,</span> <span class="s2">&quot;props&quot;</span><span class="p">:</span> <span class="p">[(</span><span class="s2">&quot;text-align&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="p">),</span> <span class="p">(</span><span class="s2">&quot;font-weight&quot;</span><span class="p">,</span> <span class="s2">&quot;500&quot;</span><span class="p">)]}])</span>
<span class="p">)</span>
<span class="n">display</span><span class="p">(</span><span class="n">estilo_top10</span><span class="p">)</span>

<span class="c1"># Resumen numérico</span>
<span class="n">resumen</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s2">&quot;Total casos&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">tbl</span><span class="p">[</span><span class="s2">&quot;Casos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()],</span>
    <span class="s2">&quot;N departamentos&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">tbl</span><span class="p">)],</span>
    <span class="s2">&quot;Promedio casos/depto&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">round</span><span class="p">(</span><span class="n">tbl</span><span class="p">[</span><span class="s2">&quot;Casos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> <span class="mi">1</span><span class="p">)],</span>
    <span class="s2">&quot;Mediana&quot;</span><span class="p">:</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">tbl</span><span class="p">[</span><span class="s2">&quot;Casos&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">median</span><span class="p">())]</span>
<span class="p">})</span>
<span class="n">display</span><span class="p">(</span><span class="n">resumen</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:,}</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">hide</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;index&quot;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">        <script type="text/javascript">
        window.PlotlyConfig = {MathJaxConfig: 'local'};
        if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
        </script>
        <script type="module">import "https://cdn.plot.ly/plotly-3.1.0.min"</script>
        </div><div class="output text_html"><div>            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_SVG"></script><script type="text/javascript">if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}</script>                <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="c0bd7fde-7843-46a2-90ca-4183e2f693b1" class="plotly-graph-div" style="height:700px; width:950px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("c0bd7fde-7843-46a2-90ca-4183e2f693b1")) {                    Plotly.newPlot(                        "c0bd7fde-7843-46a2-90ca-4183e2f693b1",                        [{"customdata":{"dtype":"f8","bdata":"AAAAAAAARUAkKH6MucsQwDY9KChFfFHADbGPEDSRNkAAAAAAAJKuQIoNgcNaiRlArUiaoNXlUsCQByxWI9FIQAAAAAAA4G5AvHxEbB+KG0C8rw+EYtdRwI3Q7DJQikBAAAAAAAAAMkCoHJPF\u002fScpQJHWGHRCbVTAYYaDhKiqMUAAAAAAAEiJQIjL4KQFzyVAp8dMdf60UsAwwmWCUhdEQAAAAAAAWqpAyJQPQdWYEkDBO\u002fn02IZSwL6HLL0eX0hAAAAAAAB4g0CGGWEHXSQkQHq730j50FLA6trQpvZOQ0AAAAAAACiGQP2G\u002fHjCoxZABZ6rQ8lRUsD\u002foH+dH7JDQAAAAAAAQIZAqI50\u002fubHFEDyNSHrudtSwLwTZZpctUNAAAAAAAAAaECgAIqRJXX6P2ksdDhJ1FLAk\u002fU9\u002fH2TP0AAAAAAAABtQNa0iS2hZBVAdpN8ItYTUsDH6K3EZVpAQAAAAAAA0INAwziSbW2nBEB5AL15FidTwCutxE1iXENAAAAAAADAgkD2V4G4rm4jQNO5n6tAXFLAOYrw8x4yQ0AAAAAAAEBXQFGbRwEgPxdAY8L4G7UsU8Bmn3szgEI7QAAAAAAAmJZAp2q1DLn0EkAc9WIkrY5SwFZR\u002fB7t1EVAAAAAAAAAfEAnefMXWZ0hQHbKoxud8FLAU1RQjjFSQkAAAAAAAAAxQBN5iDw\u002fwg5APPd6U+0BUcAkrdBrnFcxQAAAAAAAAEdAyLDojb1CA0D\u002fN4PuCiZSwIi0rKPTGTdAAAAAAAAAh0ATzWGub9cDQGQXVVwB51LAnsGtmcnOQ0AAAAAAAOBsQChnmvKrhyZAJsNV9cAvUsCXnyMkGFdAQAAAAAAAkHpAgmFGtA8yJUDN1B1zPJFSwBiHAzbPKUJAAAAAAADAgEAXH9SwDzUPQN7Nrf8SZFLA1OZrg6XbQkAAAAAAAJiHQO08+tWpUvQ\u002fO4ylFWhlU8CErXn1VeJDQAAAAAAAKIpAnm8dzGsEIEC+hCUVGjJSwFMQtwFsMURAAAAAAACAbEBlY0fYzdnkP7+IocbiIlPAknY2NxlNQEAAAAAAAPB4QAV2\u002fM6EIhJAUeGvPvPrUsCt6pbccflBQAAAAAAAwIRAS36I6OKNE0DUquH8Qe9SwJu+ZyHWf0NAAAAAAADQkUDPjkYhypkbQOP+6j6BUVLADdHEinUeRUAAAAAAACB5QJXwWMFRlSJAcWX9VhPUUsDgBGnrLv9BQAAAAAAAaIxAfhKHM9aUEUCBElJb7sZSwHcFQLe5cERAAAAAAAAYoEDIwjb4XqENQIWLwv3jGVPAtlc3JZHkRkAAAAAAAABHQKk8Rb9U9\u002fM\u002fMBkiAmmQUcCItKyj0xk3QAAAAAAAADNAYgetkOBxFUBXvlXCBEBRwK3qltxx+TFA","shape":"33, 4"},"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003ecasos=%{marker.color:,}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Amazonas","Antioquia","Arauca","Archipi\u00e9lago de San Andr\u00e9s, Providencia y Santa Catalina","Atl\u00e1ntico","Bogot\u00e1, D.C.","Bol\u00edvar","Boyac\u00e1","Caldas","Caquet\u00e1","Casanare","Cauca","Cesar","Choc\u00f3","Cundinamarca","C\u00f3rdoba","Guain\u00eda","Guaviare","Huila","la Guajira","Magdalena","Meta","Nari\u00f1o","Norte de Santander","Putumayo","Quind\u00edo","Risaralda","Santander","Sucre","Tolima","Valle del Cauca","Vaup\u00e9s","Vichada"],"lat":{"dtype":"f8","bdata":"JCh+jLnLEMCKDYHDWokZQLx8RGwfihtAqByTxf0nKUCIy+CkBc8lQMiUD0HVmBJAhhlhB10kJED9hvx4wqMWQKiOdP7mxxRAoACKkSV1+j\u002fWtIktoWQVQMM4km1tpwRA9leBuK5uI0BRm0cBID8XQKdqtQy59BJAJ3nzF1mdIUATeYg8P8IOQMiw6I29QgNAE81hrm\u002fXA0AoZ5ryq4cmQIJhRrQPMiVAFx\u002fUsA81D0DtPPrVqVL0P55vHcxrBCBAZWNH2M3Z5D8FdvzOhCISQEt+iOjijRNAz45GIcqZG0CV8FjBUZUiQH4ShzPWlBFAyMI2+F6hDUCpPEW\u002fVPfzP2IHrZDgcRVA"},"legendgroup":"","lon":{"dtype":"f8","bdata":"Nj0oKEV8UcCtSJqg1eVSwLyvD4Ri11HAkdYYdEJtVMCnx0x1\u002frRSwME7+fTYhlLAervfSPnQUsAFnqtDyVFSwPI1Ieu521LAaSx0OEnUUsB2k3wi1hNSwHkAvXkWJ1PA07mfq0BcUsBjwvgbtSxTwBz1YiStjlLAdsqjG53wUsA893pT7QFRwP83g+4KJlLAZBdVXAHnUsAmw1X1wC9SwM3UHXM8kVLA3s2t\u002fxJkUsA7jKUVaGVTwL6EJRUaMlLAv4ihxuIiU8BR4a8+8+tSwNSq4fxB71LA4\u002f7qPoFRUsBxZf1WE9RSwIESUlvuxlLAhYvC\u002feMZU8AwGSICaZBRwFe+VcIEQFHA"},"marker":{"color":{"dtype":"i2","bdata":"KgBJD\u002fcAEgApAy0NbwLFAsgCwADoAHoCWAJdAKYFwAERAC4A4ALnAKkBGALzAkUD5ACPAZgCdASSAY0DDAguABMA"},"coloraxis":"coloraxis","size":{"dtype":"f8","bdata":"DbGPEDSRNkCQByxWI9FIQI3Q7DJQikBAYYaDhKiqMUAwwmWCUhdEQL6HLL0eX0hA6trQpvZOQ0D\u002foH+dH7JDQLwTZZpctUNAk\u002fU9\u002fH2TP0DH6K3EZVpAQCutxE1iXENAOYrw8x4yQ0Bmn3szgEI7QFZR\u002fB7t1EVAU1RQjjFSQkAkrdBrnFcxQIi0rKPTGTdAnsGtmcnOQ0CXnyMkGFdAQBiHAzbPKUJA1OZrg6XbQkCErXn1VeJDQFMQtwFsMURAknY2NxlNQECt6pbccflBQJu+ZyHWf0NADdHEinUeRUDgBGnrLv9BQHcFQLe5cERAtlc3JZHkRkCItKyj0xk3QK3qltxx+TFA"},"sizemode":"area","sizeref":0.0633085342955818},"mode":"markers","name":"","showlegend":false,"subplot":"map","type":"scattermap"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"map":{"domain":{"x":[0.0,1.0],"y":[0.0,1.0]},"center":{"lat":4.6,"lon":-74.1},"zoom":5,"style":"open-street-map"},"coloraxis":{"colorbar":{"title":{"text":"casos"}},"colorscale":[[0.0,"#440154"],[0.1111111111111111,"#482878"],[0.2222222222222222,"#3e4989"],[0.3333333333333333,"#31688e"],[0.4444444444444444,"#26828e"],[0.5555555555555556,"#1f9e89"],[0.6666666666666666,"#35b779"],[0.7777777777777778,"#6ece58"],[0.8888888888888888,"#b5de2b"],[1.0,"#fde725"]]},"legend":{"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Presuntos suicidios por departamento \u2014 Total: 23,541 casos"},"mapbox":{"center":{"lat":4.6,"lon":-74.1},"zoom":5,"style":"open-street-map"},"margin":{"l":0,"r":0,"t":60,"b":0},"height":700,"width":950},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c0bd7fde-7843-46a2-90ca-4183e2f693b1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };            </script>        </div></div><div class="output text_html"><style type="text/css">
#T_74a21 th {
  text-align: left;
  font-weight: 500;
}
#T_74a21_row0_col0, #T_74a21_row0_col1, #T_74a21_row0_col2, #T_74a21_row0_col3, #T_74a21_row0_col5, #T_74a21_row0_col6, #T_74a21_row1_col0, #T_74a21_row1_col1, #T_74a21_row1_col2, #T_74a21_row1_col3, #T_74a21_row1_col5, #T_74a21_row1_col6, #T_74a21_row2_col0, #T_74a21_row2_col1, #T_74a21_row2_col2, #T_74a21_row2_col3, #T_74a21_row2_col5, #T_74a21_row2_col6, #T_74a21_row3_col0, #T_74a21_row3_col1, #T_74a21_row3_col2, #T_74a21_row3_col3, #T_74a21_row3_col5, #T_74a21_row3_col6, #T_74a21_row4_col0, #T_74a21_row4_col1, #T_74a21_row4_col2, #T_74a21_row4_col3, #T_74a21_row4_col5, #T_74a21_row4_col6, #T_74a21_row5_col0, #T_74a21_row5_col1, #T_74a21_row5_col2, #T_74a21_row5_col3, #T_74a21_row5_col5, #T_74a21_row5_col6, #T_74a21_row6_col0, #T_74a21_row6_col1, #T_74a21_row6_col2, #T_74a21_row6_col3, #T_74a21_row6_col5, #T_74a21_row6_col6, #T_74a21_row7_col0, #T_74a21_row7_col1, #T_74a21_row7_col2, #T_74a21_row7_col3, #T_74a21_row7_col5, #T_74a21_row7_col6, #T_74a21_row8_col0, #T_74a21_row8_col1, #T_74a21_row8_col2, #T_74a21_row8_col3, #T_74a21_row8_col5, #T_74a21_row8_col6, #T_74a21_row9_col0, #T_74a21_row9_col1, #T_74a21_row9_col2, #T_74a21_row9_col3, #T_74a21_row9_col5, #T_74a21_row9_col6, #T_74a21_row10_col0, #T_74a21_row10_col1, #T_74a21_row10_col2, #T_74a21_row10_col3, #T_74a21_row10_col5, #T_74a21_row10_col6, #T_74a21_row11_col0, #T_74a21_row11_col1, #T_74a21_row11_col2, #T_74a21_row11_col3, #T_74a21_row11_col5, #T_74a21_row11_col6, #T_74a21_row12_col0, #T_74a21_row12_col1, #T_74a21_row12_col2, #T_74a21_row12_col3, #T_74a21_row12_col5, #T_74a21_row12_col6, #T_74a21_row13_col0, #T_74a21_row13_col1, #T_74a21_row13_col2, #T_74a21_row13_col3, #T_74a21_row13_col5, #T_74a21_row13_col6, #T_74a21_row14_col0, #T_74a21_row14_col1, #T_74a21_row14_col2, #T_74a21_row14_col3, #T_74a21_row14_col5, #T_74a21_row14_col6, #T_74a21_row15_col0, #T_74a21_row15_col1, #T_74a21_row15_col2, #T_74a21_row15_col3, #T_74a21_row15_col5, #T_74a21_row15_col6, #T_74a21_row16_col0, #T_74a21_row16_col1, #T_74a21_row16_col2, #T_74a21_row16_col3, #T_74a21_row16_col5, #T_74a21_row16_col6, #T_74a21_row17_col0, #T_74a21_row17_col1, #T_74a21_row17_col2, #T_74a21_row17_col3, #T_74a21_row17_col5, #T_74a21_row17_col6, #T_74a21_row18_col0, #T_74a21_row18_col1, #T_74a21_row18_col2, #T_74a21_row18_col3, #T_74a21_row18_col5, #T_74a21_row18_col6, #T_74a21_row19_col0, #T_74a21_row19_col1, #T_74a21_row19_col2, #T_74a21_row19_col3, #T_74a21_row19_col5, #T_74a21_row19_col6, #T_74a21_row20_col0, #T_74a21_row20_col1, #T_74a21_row20_col2, #T_74a21_row20_col3, #T_74a21_row20_col5, #T_74a21_row20_col6, #T_74a21_row21_col0, #T_74a21_row21_col1, #T_74a21_row21_col2, #T_74a21_row21_col3, #T_74a21_row21_col5, #T_74a21_row21_col6, #T_74a21_row22_col0, #T_74a21_row22_col1, #T_74a21_row22_col2, #T_74a21_row22_col3, #T_74a21_row22_col5, #T_74a21_row22_col6, #T_74a21_row23_col0, #T_74a21_row23_col1, #T_74a21_row23_col2, #T_74a21_row23_col3, #T_74a21_row23_col5, #T_74a21_row23_col6, #T_74a21_row24_col0, #T_74a21_row24_col1, #T_74a21_row24_col2, #T_74a21_row24_col3, #T_74a21_row24_col5, #T_74a21_row24_col6, #T_74a21_row25_col0, #T_74a21_row25_col1, #T_74a21_row25_col2, #T_74a21_row25_col3, #T_74a21_row25_col5, #T_74a21_row25_col6, #T_74a21_row26_col0, #T_74a21_row26_col1, #T_74a21_row26_col2, #T_74a21_row26_col3, #T_74a21_row26_col5, #T_74a21_row26_col6, #T_74a21_row27_col0, #T_74a21_row27_col1, #T_74a21_row27_col2, #T_74a21_row27_col3, #T_74a21_row27_col5, #T_74a21_row27_col6, #T_74a21_row28_col0, #T_74a21_row28_col1, #T_74a21_row28_col2, #T_74a21_row28_col3, #T_74a21_row28_col5, #T_74a21_row28_col6, #T_74a21_row29_col0, #T_74a21_row29_col1, #T_74a21_row29_col2, #T_74a21_row29_col3, #T_74a21_row29_col5, #T_74a21_row29_col6, #T_74a21_row30_col0, #T_74a21_row30_col1, #T_74a21_row30_col2, #T_74a21_row30_col3, #T_74a21_row30_col5, #T_74a21_row30_col6, #T_74a21_row31_col0, #T_74a21_row31_col1, #T_74a21_row31_col2, #T_74a21_row31_col3, #T_74a21_row31_col5, #T_74a21_row31_col6, #T_74a21_row32_col0, #T_74a21_row32_col1, #T_74a21_row32_col2, #T_74a21_row32_col3, #T_74a21_row32_col5, #T_74a21_row32_col6 {
  text-align: left;
}
#T_74a21_row0_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 100.0%, transparent 100.0%);
  text-align: left;
}
#T_74a21_row0_col7 {
  background-color: #800026;
  color: #f1f1f1;
  text-align: left;
}
#T_74a21_row1_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 86.2%, transparent 86.2%);
  text-align: left;
}
#T_74a21_row1_col7 {
  background-color: #c10325;
  color: #f1f1f1;
  text-align: left;
}
#T_74a21_row2_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 52.6%, transparent 52.6%);
  text-align: left;
}
#T_74a21_row2_col7 {
  background-color: #fd8038;
  color: #f1f1f1;
  text-align: left;
}
#T_74a21_row3_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 37.0%, transparent 37.0%);
  text-align: left;
}
#T_74a21_row3_col7 {
  background-color: #feb54f;
  color: #000000;
  text-align: left;
}
#T_74a21_row4_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 29.1%, transparent 29.1%);
  text-align: left;
}
#T_74a21_row4_col7 {
  background-color: #fece6a;
  color: #000000;
  text-align: left;
}
#T_74a21_row5_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 23.2%, transparent 23.2%);
  text-align: left;
}
#T_74a21_row5_col7 {
  background-color: #fedd7e;
  color: #000000;
  text-align: left;
}
#T_74a21_row6_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 21.4%, transparent 21.4%);
  text-align: left;
}
#T_74a21_row6_col7 {
  background-color: #fee084;
  color: #000000;
  text-align: left;
}
#T_74a21_row7_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 20.7%, transparent 20.7%);
  text-align: left;
}
#T_74a21_row7_col7 {
  background-color: #fee085;
  color: #000000;
  text-align: left;
}
#T_74a21_row8_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 19.3%, transparent 19.3%);
  text-align: left;
}
#T_74a21_row8_col7 {
  background-color: #fee38b;
  color: #000000;
  text-align: left;
}
#T_74a21_row9_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 18.8%, transparent 18.8%);
  text-align: left;
}
#T_74a21_row9_col7 {
  background-color: #ffe48c;
  color: #000000;
  text-align: left;
}
#T_74a21_row10_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 18.2%, transparent 18.2%);
  text-align: left;
}
#T_74a21_row10_col7, #T_74a21_row11_col7 {
  background-color: #ffe58f;
  color: #000000;
  text-align: left;
}
#T_74a21_row11_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 18.1%, transparent 18.1%);
  text-align: left;
}
#T_74a21_row12_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 17.0%, transparent 17.0%);
  text-align: left;
}
#T_74a21_row12_col7 {
  background-color: #ffe793;
  color: #000000;
  text-align: left;
}
#T_74a21_row13_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 16.2%, transparent 16.2%);
  text-align: left;
}
#T_74a21_row13_col7 {
  background-color: #ffe895;
  color: #000000;
  text-align: left;
}
#T_74a21_row14_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 15.9%, transparent 15.9%);
  text-align: left;
}
#T_74a21_row14_col7 {
  background-color: #ffe997;
  color: #000000;
  text-align: left;
}
#T_74a21_row15_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 15.3%, transparent 15.3%);
  text-align: left;
}
#T_74a21_row15_col7 {
  background-color: #ffe998;
  color: #000000;
  text-align: left;
}
#T_74a21_row16_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 13.7%, transparent 13.7%);
  text-align: left;
}
#T_74a21_row16_col7 {
  background-color: #ffec9d;
  color: #000000;
  text-align: left;
}
#T_74a21_row17_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 11.4%, transparent 11.4%);
  text-align: left;
}
#T_74a21_row17_col7 {
  background-color: #ffefa5;
  color: #000000;
  text-align: left;
}
#T_74a21_row18_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 10.9%, transparent 10.9%);
  text-align: left;
}
#T_74a21_row18_col7 {
  background-color: #fff0a8;
  color: #000000;
  text-align: left;
}
#T_74a21_row19_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 10.3%, transparent 10.3%);
  text-align: left;
}
#T_74a21_row19_col7, #T_74a21_row20_col7 {
  background-color: #fff1a9;
  color: #000000;
  text-align: left;
}
#T_74a21_row20_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 10.2%, transparent 10.2%);
  text-align: left;
}
#T_74a21_row21_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 6.3%, transparent 6.3%);
  text-align: left;
}
#T_74a21_row21_col7 {
  background-color: #fff7b7;
  color: #000000;
  text-align: left;
}
#T_74a21_row22_col4, #T_74a21_row23_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 5.9%, transparent 5.9%);
  text-align: left;
}
#T_74a21_row22_col7, #T_74a21_row23_col7 {
  background-color: #fff7b9;
  color: #000000;
  text-align: left;
}
#T_74a21_row24_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 5.8%, transparent 5.8%);
  text-align: left;
}
#T_74a21_row24_col7 {
  background-color: #fff8ba;
  color: #000000;
  text-align: left;
}
#T_74a21_row25_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 4.9%, transparent 4.9%);
  text-align: left;
}
#T_74a21_row25_col7 {
  background-color: #fff9bd;
  color: #000000;
  text-align: left;
}
#T_74a21_row26_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 2.4%, transparent 2.4%);
  text-align: left;
}
#T_74a21_row26_col7 {
  background-color: #fffdc6;
  color: #000000;
  text-align: left;
}
#T_74a21_row27_col4, #T_74a21_row28_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 1.2%, transparent 1.2%);
  text-align: left;
}
#T_74a21_row27_col7, #T_74a21_row28_col7, #T_74a21_row29_col7 {
  background-color: #fffecb;
  color: #000000;
  text-align: left;
}
#T_74a21_row29_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 1.1%, transparent 1.1%);
  text-align: left;
}
#T_74a21_row30_col4, #T_74a21_row31_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 0.5%, transparent 0.5%);
  text-align: left;
}
#T_74a21_row30_col7, #T_74a21_row31_col7, #T_74a21_row32_col7 {
  background-color: #ffffcc;
  color: #000000;
  text-align: left;
}
#T_74a21_row32_col4 {
  width: 10em;
  background: linear-gradient(90deg, #b3d1ff 0.4%, transparent 0.4%);
  text-align: left;
}
</style>
<table id="T_74a21">
  <thead>
    <tr>
      <th id="T_74a21_level0_col0" class="col_heading level0 col0" >Rank</th>
      <th id="T_74a21_level0_col1" class="col_heading level0 col1" >Departamento</th>
      <th id="T_74a21_level0_col2" class="col_heading level0 col2" >lat</th>
      <th id="T_74a21_level0_col3" class="col_heading level0 col3" >lon</th>
      <th id="T_74a21_level0_col4" class="col_heading level0 col4" >Casos</th>
      <th id="T_74a21_level0_col5" class="col_heading level0 col5" >dept_clean</th>
      <th id="T_74a21_level0_col6" class="col_heading level0 col6" >size_norm</th>
      <th id="T_74a21_level0_col7" class="col_heading level0 col7" >Participación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_74a21_row0_col0" class="data row0 col0" >1</td>
      <td id="T_74a21_row0_col1" class="data row0 col1" >Antioquia</td>
      <td id="T_74a21_row0_col2" class="data row0 col2" >6.384135</td>
      <td id="T_74a21_row0_col3" class="data row0 col3" >-75.591164</td>
      <td id="T_74a21_row0_col4" class="data row0 col4" >3,913</td>
      <td id="T_74a21_row0_col5" class="data row0 col5" >Antioquia</td>
      <td id="T_74a21_row0_col6" class="data row0 col6" >49.633891</td>
      <td id="T_74a21_row0_col7" class="data row0 col7" >16.6%</td>
    </tr>
    <tr>
      <td id="T_74a21_row1_col0" class="data row1 col0" >2</td>
      <td id="T_74a21_row1_col1" class="data row1 col1" >Bogotá, D.C.</td>
      <td id="T_74a21_row1_col2" class="data row1 col2" >4.649251</td>
      <td id="T_74a21_row1_col3" class="data row1 col3" >-74.106992</td>
      <td id="T_74a21_row1_col4" class="data row1 col4" >3,373</td>
      <td id="T_74a21_row1_col5" class="data row1 col5" >Bogotá, D.C.</td>
      <td id="T_74a21_row1_col6" class="data row1 col6" >48.743126</td>
      <td id="T_74a21_row1_col7" class="data row1 col7" >14.3%</td>
    </tr>
    <tr>
      <td id="T_74a21_row2_col0" class="data row2 col0" >3</td>
      <td id="T_74a21_row2_col1" class="data row2 col1" >Valle del Cauca</td>
      <td id="T_74a21_row2_col2" class="data row2 col2" >3.703794</td>
      <td id="T_74a21_row2_col3" class="data row2 col3" >-76.404540</td>
      <td id="T_74a21_row2_col4" class="data row2 col4" >2,060</td>
      <td id="T_74a21_row2_col5" class="data row2 col5" >Valle del Cauca</td>
      <td id="T_74a21_row2_col6" class="data row2 col6" >45.785679</td>
      <td id="T_74a21_row2_col7" class="data row2 col7" >8.8%</td>
    </tr>
    <tr>
      <td id="T_74a21_row3_col0" class="data row3 col0" >4</td>
      <td id="T_74a21_row3_col1" class="data row3 col1" >Cundinamarca</td>
      <td id="T_74a21_row3_col2" class="data row3 col2" >4.738987</td>
      <td id="T_74a21_row3_col3" class="data row3 col3" >-74.229318</td>
      <td id="T_74a21_row3_col4" class="data row3 col4" >1,446</td>
      <td id="T_74a21_row3_col5" class="data row3 col5" >Cundinamarca</td>
      <td id="T_74a21_row3_col6" class="data row3 col6" >43.663486</td>
      <td id="T_74a21_row3_col7" class="data row3 col7" >6.1%</td>
    </tr>
    <tr>
      <td id="T_74a21_row4_col0" class="data row4 col0" >5</td>
      <td id="T_74a21_row4_col1" class="data row4 col1" >Santander</td>
      <td id="T_74a21_row4_col2" class="data row4 col2" >6.900185</td>
      <td id="T_74a21_row4_col3" class="data row4 col3" >-73.273514</td>
      <td id="T_74a21_row4_col4" class="data row4 col4" >1,140</td>
      <td id="T_74a21_row4_col5" class="data row4 col5" >Santander</td>
      <td id="T_74a21_row4_col6" class="data row4 col6" >42.237962</td>
      <td id="T_74a21_row4_col7" class="data row4 col7" >4.8%</td>
    </tr>
    <tr>
      <td id="T_74a21_row5_col0" class="data row5 col0" >6</td>
      <td id="T_74a21_row5_col1" class="data row5 col1" >Tolima</td>
      <td id="T_74a21_row5_col2" class="data row5 col2" >4.395348</td>
      <td id="T_74a21_row5_col3" class="data row5 col3" >-75.108298</td>
      <td id="T_74a21_row5_col4" class="data row5 col4" >909</td>
      <td id="T_74a21_row5_col5" class="data row5 col5" >Tolima</td>
      <td id="T_74a21_row5_col6" class="data row5 col6" >40.880668</td>
      <td id="T_74a21_row5_col7" class="data row5 col7" >3.9%</td>
    </tr>
    <tr>
      <td id="T_74a21_row6_col0" class="data row6 col0" >7</td>
      <td id="T_74a21_row6_col1" class="data row6 col1" >Norte de Santander</td>
      <td id="T_74a21_row6_col2" class="data row6 col2" >8.008635</td>
      <td id="T_74a21_row6_col3" class="data row6 col3" >-72.782842</td>
      <td id="T_74a21_row6_col4" class="data row6 col4" >837</td>
      <td id="T_74a21_row6_col5" class="data row6 col5" >Norte de Santander</td>
      <td id="T_74a21_row6_col6" class="data row6 col6" >40.386109</td>
      <td id="T_74a21_row6_col7" class="data row6 col7" >3.6%</td>
    </tr>
    <tr>
      <td id="T_74a21_row7_col0" class="data row7 col0" >8</td>
      <td id="T_74a21_row7_col1" class="data row7 col1" >Atlántico</td>
      <td id="T_74a21_row7_col2" class="data row7 col2" >10.904340</td>
      <td id="T_74a21_row7_col3" class="data row7 col3" >-74.828031</td>
      <td id="T_74a21_row7_col4" class="data row7 col4" >809</td>
      <td id="T_74a21_row7_col5" class="data row7 col5" >Atlántico</td>
      <td id="T_74a21_row7_col6" class="data row7 col6" >40.182205</td>
      <td id="T_74a21_row7_col7" class="data row7 col7" >3.4%</td>
    </tr>
    <tr>
      <td id="T_74a21_row8_col0" class="data row8 col0" >9</td>
      <td id="T_74a21_row8_col1" class="data row8 col1" >Nariño</td>
      <td id="T_74a21_row8_col2" class="data row8 col2" >1.270181</td>
      <td id="T_74a21_row8_col3" class="data row8 col3" >-77.584478</td>
      <td id="T_74a21_row8_col4" class="data row8 col4" >755</td>
      <td id="T_74a21_row8_col5" class="data row8 col5" >Nariño</td>
      <td id="T_74a21_row8_col6" class="data row8 col6" >39.768248</td>
      <td id="T_74a21_row8_col7" class="data row8 col7" >3.2%</td>
    </tr>
    <tr>
      <td id="T_74a21_row9_col0" class="data row9 col0" >10</td>
      <td id="T_74a21_row9_col1" class="data row9 col1" >Huila</td>
      <td id="T_74a21_row9_col2" class="data row9 col2" >2.480193</td>
      <td id="T_74a21_row9_col3" class="data row9 col3" >-75.609458</td>
      <td id="T_74a21_row9_col4" class="data row9 col4" >736</td>
      <td id="T_74a21_row9_col5" class="data row9 col5" >Huila</td>
      <td id="T_74a21_row9_col6" class="data row9 col6" >39.615527</td>
      <td id="T_74a21_row9_col7" class="data row9 col7" >3.1%</td>
    </tr>
    <tr>
      <td id="T_74a21_row10_col0" class="data row10 col0" >11</td>
      <td id="T_74a21_row10_col1" class="data row10 col1" >Caldas</td>
      <td id="T_74a21_row10_col2" class="data row10 col2" >5.195217</td>
      <td id="T_74a21_row10_col3" class="data row10 col3" >-75.433223</td>
      <td id="T_74a21_row10_col4" class="data row10 col4" >712</td>
      <td id="T_74a21_row10_col5" class="data row10 col5" >Caldas</td>
      <td id="T_74a21_row10_col6" class="data row10 col6" >39.416889</td>
      <td id="T_74a21_row10_col7" class="data row10 col7" >3.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row11_col0" class="data row11 col0" >12</td>
      <td id="T_74a21_row11_col1" class="data row11 col1" >Boyacá</td>
      <td id="T_74a21_row11_col2" class="data row11 col2" >5.659922</td>
      <td id="T_74a21_row11_col3" class="data row11 col3" >-73.277909</td>
      <td id="T_74a21_row11_col4" class="data row11 col4" >709</td>
      <td id="T_74a21_row11_col5" class="data row11 col5" >Boyacá</td>
      <td id="T_74a21_row11_col6" class="data row11 col6" >39.391590</td>
      <td id="T_74a21_row11_col7" class="data row11 col7" >3.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row12_col0" class="data row12 col0" >13</td>
      <td id="T_74a21_row12_col1" class="data row12 col1" >Risaralda</td>
      <td id="T_74a21_row12_col2" class="data row12 col2" >4.888561</td>
      <td id="T_74a21_row12_col3" class="data row12 col3" >-75.738403</td>
      <td id="T_74a21_row12_col4" class="data row12 col4" >664</td>
      <td id="T_74a21_row12_col5" class="data row12 col5" >Risaralda</td>
      <td id="T_74a21_row12_col6" class="data row12 col6" >38.998722</td>
      <td id="T_74a21_row12_col7" class="data row12 col7" >2.8%</td>
    </tr>
    <tr>
      <td id="T_74a21_row13_col0" class="data row13 col0" >14</td>
      <td id="T_74a21_row13_col1" class="data row13 col1" >Cauca</td>
      <td id="T_74a21_row13_col2" class="data row13 col2" >2.581752</td>
      <td id="T_74a21_row13_col3" class="data row13 col3" >-76.610747</td>
      <td id="T_74a21_row13_col4" class="data row13 col4" >634</td>
      <td id="T_74a21_row13_col5" class="data row13 col5" >Cauca</td>
      <td id="T_74a21_row13_col6" class="data row13 col6" >38.721750</td>
      <td id="T_74a21_row13_col7" class="data row13 col7" >2.7%</td>
    </tr>
    <tr>
      <td id="T_74a21_row14_col0" class="data row14 col0" >15</td>
      <td id="T_74a21_row14_col1" class="data row14 col1" >Bolívar</td>
      <td id="T_74a21_row14_col2" class="data row14 col2" >10.071022</td>
      <td id="T_74a21_row14_col3" class="data row14 col3" >-75.265215</td>
      <td id="T_74a21_row14_col4" class="data row14 col4" >623</td>
      <td id="T_74a21_row14_col5" class="data row14 col5" >Bolívar</td>
      <td id="T_74a21_row14_col6" class="data row14 col6" >38.616902</td>
      <td id="T_74a21_row14_col7" class="data row14 col7" >2.6%</td>
    </tr>
    <tr>
      <td id="T_74a21_row15_col0" class="data row15 col0" >16</td>
      <td id="T_74a21_row15_col1" class="data row15 col1" >Cesar</td>
      <td id="T_74a21_row15_col2" class="data row15 col2" >9.716177</td>
      <td id="T_74a21_row15_col3" class="data row15 col3" >-73.441447</td>
      <td id="T_74a21_row15_col4" class="data row15 col4" >600</td>
      <td id="T_74a21_row15_col5" class="data row15 col5" >Cesar</td>
      <td id="T_74a21_row15_col6" class="data row15 col6" >38.391570</td>
      <td id="T_74a21_row15_col7" class="data row15 col7" >2.5%</td>
    </tr>
    <tr>
      <td id="T_74a21_row16_col0" class="data row16 col0" >17</td>
      <td id="T_74a21_row16_col1" class="data row16 col1" >Meta</td>
      <td id="T_74a21_row16_col2" class="data row16 col2" >3.900909</td>
      <td id="T_74a21_row16_col3" class="data row16 col3" >-73.563660</td>
      <td id="T_74a21_row16_col4" class="data row16 col4" >536</td>
      <td id="T_74a21_row16_col5" class="data row16 col5" >Meta</td>
      <td id="T_74a21_row16_col6" class="data row16 col6" >37.715989</td>
      <td id="T_74a21_row16_col7" class="data row16 col7" >2.3%</td>
    </tr>
    <tr>
      <td id="T_74a21_row17_col0" class="data row17 col0" >18</td>
      <td id="T_74a21_row17_col1" class="data row17 col1" >Córdoba</td>
      <td id="T_74a21_row17_col2" class="data row17 col2" >8.807320</td>
      <td id="T_74a21_row17_col3" class="data row17 col3" >-75.759589</td>
      <td id="T_74a21_row17_col4" class="data row17 col4" >448</td>
      <td id="T_74a21_row17_col5" class="data row17 col5" >Córdoba</td>
      <td id="T_74a21_row17_col6" class="data row17 col6" >36.642137</td>
      <td id="T_74a21_row17_col7" class="data row17 col7" >1.9%</td>
    </tr>
    <tr>
      <td id="T_74a21_row18_col0" class="data row18 col0" >19</td>
      <td id="T_74a21_row18_col1" class="data row18 col1" >Magdalena</td>
      <td id="T_74a21_row18_col2" class="data row18 col2" >10.597776</td>
      <td id="T_74a21_row18_col3" class="data row18 col3" >-74.269315</td>
      <td id="T_74a21_row18_col4" class="data row18 col4" >425</td>
      <td id="T_74a21_row18_col5" class="data row18 col5" >Magdalena</td>
      <td id="T_74a21_row18_col6" class="data row18 col6" >36.326636</td>
      <td id="T_74a21_row18_col7" class="data row18 col7" >1.8%</td>
    </tr>
    <tr>
      <td id="T_74a21_row19_col0" class="data row19 col0" >20</td>
      <td id="T_74a21_row19_col1" class="data row19 col1" >Sucre</td>
      <td id="T_74a21_row19_col2" class="data row19 col2" >9.291639</td>
      <td id="T_74a21_row19_col3" class="data row19 col3" >-75.313680</td>
      <td id="T_74a21_row19_col4" class="data row19 col4" >402</td>
      <td id="T_74a21_row19_col5" class="data row19 col5" >Sucre</td>
      <td id="T_74a21_row19_col6" class="data row19 col6" >35.993619</td>
      <td id="T_74a21_row19_col7" class="data row19 col7" >1.7%</td>
    </tr>
    <tr>
      <td id="T_74a21_row20_col0" class="data row20 col0" >21</td>
      <td id="T_74a21_row20_col1" class="data row20 col1" >Quindío</td>
      <td id="T_74a21_row20_col2" class="data row20 col2" >4.533710</td>
      <td id="T_74a21_row20_col3" class="data row20 col3" >-75.686721</td>
      <td id="T_74a21_row20_col4" class="data row20 col4" >399</td>
      <td id="T_74a21_row20_col5" class="data row20 col5" >Quindío</td>
      <td id="T_74a21_row20_col6" class="data row20 col6" >35.948787</td>
      <td id="T_74a21_row20_col7" class="data row20 col7" >1.7%</td>
    </tr>
    <tr>
      <td id="T_74a21_row21_col0" class="data row21 col0" >22</td>
      <td id="T_74a21_row21_col1" class="data row21 col1" >Arauca</td>
      <td id="T_74a21_row21_col2" class="data row21 col2" >6.884885</td>
      <td id="T_74a21_row21_col3" class="data row21 col3" >-71.365388</td>
      <td id="T_74a21_row21_col4" class="data row21 col4" >247</td>
      <td id="T_74a21_row21_col5" class="data row21 col5" >Arauca</td>
      <td id="T_74a21_row21_col6" class="data row21 col6" >33.080572</td>
      <td id="T_74a21_row21_col7" class="data row21 col7" >1.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row22_col0" class="data row22 col0" >23</td>
      <td id="T_74a21_row22_col1" class="data row22 col1" >Casanare</td>
      <td id="T_74a21_row22_col2" class="data row22 col2" >5.348271</td>
      <td id="T_74a21_row22_col3" class="data row22 col3" >-72.309945</td>
      <td id="T_74a21_row22_col4" class="data row22 col4" >232</td>
      <td id="T_74a21_row22_col5" class="data row22 col5" >Casanare</td>
      <td id="T_74a21_row22_col6" class="data row22 col6" >32.706231</td>
      <td id="T_74a21_row22_col7" class="data row22 col7" >1.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row23_col0" class="data row23 col0" >24</td>
      <td id="T_74a21_row23_col1" class="data row23 col1" >La Guajira</td>
      <td id="T_74a21_row23_col2" class="data row23 col2" >11.264984</td>
      <td id="T_74a21_row23_col3" class="data row23 col3" >-72.746152</td>
      <td id="T_74a21_row23_col4" class="data row23 col4" >231</td>
      <td id="T_74a21_row23_col5" class="data row23 col5" >la Guajira</td>
      <td id="T_74a21_row23_col6" class="data row23 col6" >32.680424</td>
      <td id="T_74a21_row23_col7" class="data row23 col7" >1.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row24_col0" class="data row24 col0" >25</td>
      <td id="T_74a21_row24_col1" class="data row24 col1" >Putumayo</td>
      <td id="T_74a21_row24_col2" class="data row24 col2" >0.651587</td>
      <td id="T_74a21_row24_col3" class="data row24 col3" >-76.545091</td>
      <td id="T_74a21_row24_col4" class="data row24 col4" >228</td>
      <td id="T_74a21_row24_col5" class="data row24 col5" >Putumayo</td>
      <td id="T_74a21_row24_col6" class="data row24 col6" >32.602332</td>
      <td id="T_74a21_row24_col7" class="data row24 col7" >1.0%</td>
    </tr>
    <tr>
      <td id="T_74a21_row25_col0" class="data row25 col0" >26</td>
      <td id="T_74a21_row25_col1" class="data row25 col1" >Caquetá</td>
      <td id="T_74a21_row25_col2" class="data row25 col2" >1.653600</td>
      <td id="T_74a21_row25_col3" class="data row25 col3" >-75.316969</td>
      <td id="T_74a21_row25_col4" class="data row25 col4" >192</td>
      <td id="T_74a21_row25_col5" class="data row25 col5" >Caquetá</td>
      <td id="T_74a21_row25_col6" class="data row25 col6" >31.576141</td>
      <td id="T_74a21_row25_col7" class="data row25 col7" >0.8%</td>
    </tr>
    <tr>
      <td id="T_74a21_row26_col0" class="data row26 col0" >27</td>
      <td id="T_74a21_row26_col1" class="data row26 col1" >Chocó</td>
      <td id="T_74a21_row26_col2" class="data row26 col2" >5.811646</td>
      <td id="T_74a21_row26_col3" class="data row26 col3" >-76.698554</td>
      <td id="T_74a21_row26_col4" class="data row26 col4" >93</td>
      <td id="T_74a21_row26_col5" class="data row26 col5" >Chocó</td>
      <td id="T_74a21_row26_col6" class="data row26 col6" >27.259769</td>
      <td id="T_74a21_row26_col7" class="data row26 col7" >0.4%</td>
    </tr>
    <tr>
      <td id="T_74a21_row27_col0" class="data row27 col0" >28</td>
      <td id="T_74a21_row27_col1" class="data row27 col1" >Guaviare</td>
      <td id="T_74a21_row27_col2" class="data row27 col2" >2.407588</td>
      <td id="T_74a21_row27_col3" class="data row27 col3" >-72.594417</td>
      <td id="T_74a21_row27_col4" class="data row27 col4" >46</td>
      <td id="T_74a21_row27_col5" class="data row27 col5" >Guaviare</td>
      <td id="T_74a21_row27_col6" class="data row27 col6" >23.100886</td>
      <td id="T_74a21_row27_col7" class="data row27 col7" >0.2%</td>
    </tr>
    <tr>
      <td id="T_74a21_row28_col0" class="data row28 col0" >29</td>
      <td id="T_74a21_row28_col1" class="data row28 col1" >Vaupés</td>
      <td id="T_74a21_row28_col2" class="data row28 col2" >1.247884</td>
      <td id="T_74a21_row28_col3" class="data row28 col3" >-70.256409</td>
      <td id="T_74a21_row28_col4" class="data row28 col4" >46</td>
      <td id="T_74a21_row28_col5" class="data row28 col5" >Vaupés</td>
      <td id="T_74a21_row28_col6" class="data row28 col6" >23.100886</td>
      <td id="T_74a21_row28_col7" class="data row28 col7" >0.2%</td>
    </tr>
    <tr>
      <td id="T_74a21_row29_col0" class="data row29 col0" >30</td>
      <td id="T_74a21_row29_col1" class="data row29 col1" >Amazonas</td>
      <td id="T_74a21_row29_col2" class="data row29 col2" >-4.198950</td>
      <td id="T_74a21_row29_col3" class="data row29 col3" >-69.941721</td>
      <td id="T_74a21_row29_col4" class="data row29 col4" >42</td>
      <td id="T_74a21_row29_col5" class="data row29 col5" >Amazonas</td>
      <td id="T_74a21_row29_col6" class="data row29 col6" >22.567201</td>
      <td id="T_74a21_row29_col7" class="data row29 col7" >0.2%</td>
    </tr>
    <tr>
      <td id="T_74a21_row30_col0" class="data row30 col0" >31</td>
      <td id="T_74a21_row30_col1" class="data row30 col1" >Vichada</td>
      <td id="T_74a21_row30_col2" class="data row30 col2" >5.361208</td>
      <td id="T_74a21_row30_col3" class="data row30 col3" >-69.000290</td>
      <td id="T_74a21_row30_col4" class="data row30 col4" >19</td>
      <td id="T_74a21_row30_col5" class="data row30 col5" >Vichada</td>
      <td id="T_74a21_row30_col6" class="data row30 col6" >17.974394</td>
      <td id="T_74a21_row30_col7" class="data row30 col7" >0.1%</td>
    </tr>
    <tr>
      <td id="T_74a21_row31_col0" class="data row31 col0" >32</td>
      <td id="T_74a21_row31_col1" class="data row31 col1" >Archipiélago de San Andrés, Providencia y Santa Catalina</td>
      <td id="T_74a21_row31_col2" class="data row31 col2" >12.578108</td>
      <td id="T_74a21_row31_col3" class="data row31 col3" >-81.707181</td>
      <td id="T_74a21_row31_col4" class="data row31 col4" >18</td>
      <td id="T_74a21_row31_col5" class="data row31 col5" >Archipiélago de San Andrés, Providencia y Santa Catalina</td>
      <td id="T_74a21_row31_col6" class="data row31 col6" >17.666634</td>
      <td id="T_74a21_row31_col7" class="data row31 col7" >0.1%</td>
    </tr>
    <tr>
      <td id="T_74a21_row32_col0" class="data row32 col0" >33</td>
      <td id="T_74a21_row32_col1" class="data row32 col1" >Guainía</td>
      <td id="T_74a21_row32_col2" class="data row32 col2" >3.844847</td>
      <td id="T_74a21_row32_col3" class="data row32 col3" >-68.030110</td>
      <td id="T_74a21_row32_col4" class="data row32 col4" >17</td>
      <td id="T_74a21_row32_col5" class="data row32 col5" >Guainía</td>
      <td id="T_74a21_row32_col6" class="data row32 col6" >17.342231</td>
      <td id="T_74a21_row32_col7" class="data row32 col7" >0.1%</td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
#T_ddb6a th {
  text-align: left;
  font-weight: 500;
}
#T_ddb6a_row0_col0, #T_ddb6a_row0_col1, #T_ddb6a_row0_col2, #T_ddb6a_row0_col3, #T_ddb6a_row0_col4, #T_ddb6a_row0_col5, #T_ddb6a_row0_col6, #T_ddb6a_row0_col7, #T_ddb6a_row1_col0, #T_ddb6a_row1_col1, #T_ddb6a_row1_col2, #T_ddb6a_row1_col3, #T_ddb6a_row1_col4, #T_ddb6a_row1_col5, #T_ddb6a_row1_col6, #T_ddb6a_row1_col7, #T_ddb6a_row2_col0, #T_ddb6a_row2_col1, #T_ddb6a_row2_col2, #T_ddb6a_row2_col3, #T_ddb6a_row2_col4, #T_ddb6a_row2_col5, #T_ddb6a_row2_col6, #T_ddb6a_row2_col7, #T_ddb6a_row3_col0, #T_ddb6a_row3_col1, #T_ddb6a_row3_col2, #T_ddb6a_row3_col3, #T_ddb6a_row3_col4, #T_ddb6a_row3_col5, #T_ddb6a_row3_col6, #T_ddb6a_row3_col7, #T_ddb6a_row4_col0, #T_ddb6a_row4_col1, #T_ddb6a_row4_col2, #T_ddb6a_row4_col3, #T_ddb6a_row4_col4, #T_ddb6a_row4_col5, #T_ddb6a_row4_col6, #T_ddb6a_row4_col7, #T_ddb6a_row5_col0, #T_ddb6a_row5_col1, #T_ddb6a_row5_col2, #T_ddb6a_row5_col3, #T_ddb6a_row5_col4, #T_ddb6a_row5_col5, #T_ddb6a_row5_col6, #T_ddb6a_row5_col7, #T_ddb6a_row6_col0, #T_ddb6a_row6_col1, #T_ddb6a_row6_col2, #T_ddb6a_row6_col3, #T_ddb6a_row6_col4, #T_ddb6a_row6_col5, #T_ddb6a_row6_col6, #T_ddb6a_row6_col7, #T_ddb6a_row7_col0, #T_ddb6a_row7_col1, #T_ddb6a_row7_col2, #T_ddb6a_row7_col3, #T_ddb6a_row7_col4, #T_ddb6a_row7_col5, #T_ddb6a_row7_col6, #T_ddb6a_row7_col7, #T_ddb6a_row8_col0, #T_ddb6a_row8_col1, #T_ddb6a_row8_col2, #T_ddb6a_row8_col3, #T_ddb6a_row8_col4, #T_ddb6a_row8_col5, #T_ddb6a_row8_col6, #T_ddb6a_row8_col7, #T_ddb6a_row9_col0, #T_ddb6a_row9_col1, #T_ddb6a_row9_col2, #T_ddb6a_row9_col3, #T_ddb6a_row9_col4, #T_ddb6a_row9_col5, #T_ddb6a_row9_col6, #T_ddb6a_row9_col7 {
  text-align: left;
}
</style>
<table id="T_ddb6a">
  <thead>
    <tr>
      <th id="T_ddb6a_level0_col0" class="col_heading level0 col0" >Rank</th>
      <th id="T_ddb6a_level0_col1" class="col_heading level0 col1" >Departamento</th>
      <th id="T_ddb6a_level0_col2" class="col_heading level0 col2" >lat</th>
      <th id="T_ddb6a_level0_col3" class="col_heading level0 col3" >lon</th>
      <th id="T_ddb6a_level0_col4" class="col_heading level0 col4" >Casos</th>
      <th id="T_ddb6a_level0_col5" class="col_heading level0 col5" >dept_clean</th>
      <th id="T_ddb6a_level0_col6" class="col_heading level0 col6" >size_norm</th>
      <th id="T_ddb6a_level0_col7" class="col_heading level0 col7" >Participación</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_ddb6a_row0_col0" class="data row0 col0" >1</td>
      <td id="T_ddb6a_row0_col1" class="data row0 col1" >Antioquia</td>
      <td id="T_ddb6a_row0_col2" class="data row0 col2" >6.384135</td>
      <td id="T_ddb6a_row0_col3" class="data row0 col3" >-75.591164</td>
      <td id="T_ddb6a_row0_col4" class="data row0 col4" >3,913</td>
      <td id="T_ddb6a_row0_col5" class="data row0 col5" >Antioquia</td>
      <td id="T_ddb6a_row0_col6" class="data row0 col6" >49.633891</td>
      <td id="T_ddb6a_row0_col7" class="data row0 col7" >16.6%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row1_col0" class="data row1 col0" >2</td>
      <td id="T_ddb6a_row1_col1" class="data row1 col1" >Bogotá, D.C.</td>
      <td id="T_ddb6a_row1_col2" class="data row1 col2" >4.649251</td>
      <td id="T_ddb6a_row1_col3" class="data row1 col3" >-74.106992</td>
      <td id="T_ddb6a_row1_col4" class="data row1 col4" >3,373</td>
      <td id="T_ddb6a_row1_col5" class="data row1 col5" >Bogotá, D.C.</td>
      <td id="T_ddb6a_row1_col6" class="data row1 col6" >48.743126</td>
      <td id="T_ddb6a_row1_col7" class="data row1 col7" >14.3%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row2_col0" class="data row2 col0" >3</td>
      <td id="T_ddb6a_row2_col1" class="data row2 col1" >Valle del Cauca</td>
      <td id="T_ddb6a_row2_col2" class="data row2 col2" >3.703794</td>
      <td id="T_ddb6a_row2_col3" class="data row2 col3" >-76.404540</td>
      <td id="T_ddb6a_row2_col4" class="data row2 col4" >2,060</td>
      <td id="T_ddb6a_row2_col5" class="data row2 col5" >Valle del Cauca</td>
      <td id="T_ddb6a_row2_col6" class="data row2 col6" >45.785679</td>
      <td id="T_ddb6a_row2_col7" class="data row2 col7" >8.8%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row3_col0" class="data row3 col0" >4</td>
      <td id="T_ddb6a_row3_col1" class="data row3 col1" >Cundinamarca</td>
      <td id="T_ddb6a_row3_col2" class="data row3 col2" >4.738987</td>
      <td id="T_ddb6a_row3_col3" class="data row3 col3" >-74.229318</td>
      <td id="T_ddb6a_row3_col4" class="data row3 col4" >1,446</td>
      <td id="T_ddb6a_row3_col5" class="data row3 col5" >Cundinamarca</td>
      <td id="T_ddb6a_row3_col6" class="data row3 col6" >43.663486</td>
      <td id="T_ddb6a_row3_col7" class="data row3 col7" >6.1%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row4_col0" class="data row4 col0" >5</td>
      <td id="T_ddb6a_row4_col1" class="data row4 col1" >Santander</td>
      <td id="T_ddb6a_row4_col2" class="data row4 col2" >6.900185</td>
      <td id="T_ddb6a_row4_col3" class="data row4 col3" >-73.273514</td>
      <td id="T_ddb6a_row4_col4" class="data row4 col4" >1,140</td>
      <td id="T_ddb6a_row4_col5" class="data row4 col5" >Santander</td>
      <td id="T_ddb6a_row4_col6" class="data row4 col6" >42.237962</td>
      <td id="T_ddb6a_row4_col7" class="data row4 col7" >4.8%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row5_col0" class="data row5 col0" >6</td>
      <td id="T_ddb6a_row5_col1" class="data row5 col1" >Tolima</td>
      <td id="T_ddb6a_row5_col2" class="data row5 col2" >4.395348</td>
      <td id="T_ddb6a_row5_col3" class="data row5 col3" >-75.108298</td>
      <td id="T_ddb6a_row5_col4" class="data row5 col4" >909</td>
      <td id="T_ddb6a_row5_col5" class="data row5 col5" >Tolima</td>
      <td id="T_ddb6a_row5_col6" class="data row5 col6" >40.880668</td>
      <td id="T_ddb6a_row5_col7" class="data row5 col7" >3.9%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row6_col0" class="data row6 col0" >7</td>
      <td id="T_ddb6a_row6_col1" class="data row6 col1" >Norte de Santander</td>
      <td id="T_ddb6a_row6_col2" class="data row6 col2" >8.008635</td>
      <td id="T_ddb6a_row6_col3" class="data row6 col3" >-72.782842</td>
      <td id="T_ddb6a_row6_col4" class="data row6 col4" >837</td>
      <td id="T_ddb6a_row6_col5" class="data row6 col5" >Norte de Santander</td>
      <td id="T_ddb6a_row6_col6" class="data row6 col6" >40.386109</td>
      <td id="T_ddb6a_row6_col7" class="data row6 col7" >3.6%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row7_col0" class="data row7 col0" >8</td>
      <td id="T_ddb6a_row7_col1" class="data row7 col1" >Atlántico</td>
      <td id="T_ddb6a_row7_col2" class="data row7 col2" >10.904340</td>
      <td id="T_ddb6a_row7_col3" class="data row7 col3" >-74.828031</td>
      <td id="T_ddb6a_row7_col4" class="data row7 col4" >809</td>
      <td id="T_ddb6a_row7_col5" class="data row7 col5" >Atlántico</td>
      <td id="T_ddb6a_row7_col6" class="data row7 col6" >40.182205</td>
      <td id="T_ddb6a_row7_col7" class="data row7 col7" >3.4%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row8_col0" class="data row8 col0" >9</td>
      <td id="T_ddb6a_row8_col1" class="data row8 col1" >Nariño</td>
      <td id="T_ddb6a_row8_col2" class="data row8 col2" >1.270181</td>
      <td id="T_ddb6a_row8_col3" class="data row8 col3" >-77.584478</td>
      <td id="T_ddb6a_row8_col4" class="data row8 col4" >755</td>
      <td id="T_ddb6a_row8_col5" class="data row8 col5" >Nariño</td>
      <td id="T_ddb6a_row8_col6" class="data row8 col6" >39.768248</td>
      <td id="T_ddb6a_row8_col7" class="data row8 col7" >3.2%</td>
    </tr>
    <tr>
      <td id="T_ddb6a_row9_col0" class="data row9 col0" >10</td>
      <td id="T_ddb6a_row9_col1" class="data row9 col1" >Huila</td>
      <td id="T_ddb6a_row9_col2" class="data row9 col2" >2.480193</td>
      <td id="T_ddb6a_row9_col3" class="data row9 col3" >-75.609458</td>
      <td id="T_ddb6a_row9_col4" class="data row9 col4" >736</td>
      <td id="T_ddb6a_row9_col5" class="data row9 col5" >Huila</td>
      <td id="T_ddb6a_row9_col6" class="data row9 col6" >39.615527</td>
      <td id="T_ddb6a_row9_col7" class="data row9 col7" >3.1%</td>
    </tr>
  </tbody>
</table>
</div><div class="output text_html"><style type="text/css">
</style>
<table id="T_3d417">
  <thead>
    <tr>
      <th id="T_3d417_level0_col0" class="col_heading level0 col0" >Total casos</th>
      <th id="T_3d417_level0_col1" class="col_heading level0 col1" >N departamentos</th>
      <th id="T_3d417_level0_col2" class="col_heading level0 col2" >Promedio casos/depto</th>
      <th id="T_3d417_level0_col3" class="col_heading level0 col3" >Mediana</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td id="T_3d417_row0_col0" class="data row0 col0" >23,541</td>
      <td id="T_3d417_row0_col1" class="data row0 col1" >33</td>
      <td id="T_3d417_row0_col2" class="data row0 col2" >713.4</td>
      <td id="T_3d417_row0_col3" class="data row0 col3" >536</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Datos_Met.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Datos y metodología</p>
      </div>
    </a>
    <a class="right-next"
       href="referencias.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Citations</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Análisis Exploratorio de Datos</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fundamentos-del-analisis-una-mirada-inicial-a-los-datos">Fundamentos del Análisis: Una Mirada Inicial a los Datos</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#analisis-univariado">Análisis Univariado</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#desarrollo-del-analisis-exploratorio-de-datos">Desarrollo del Análisis Exploratorio de Datos</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-por-sexo">Distribución por sexo</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-sexo-por-ciclo-vital">Distribución de sexo por ciclo vital</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-edad-con-histograma-normalizado-y-kde">Distribución de edad con histograma normalizado y KDE.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#detectando-datos-atipicos-en-la-variable-edad-mediante-boxplot">Detectando datos atípicos en la variable edad mediante boxplot.</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#boxplot-de-edad">Boxplot de edad</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#distribucion-de-frecuencias-de-mecanismos-causales">Distribución de frecuencias de mecanismos causales</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dsitribucion-de-frecuencias-zona-rural-y-urbana">Dsitribución de frecuencias zona rural y urbana</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#evolucion-anual-de-casos-del-hecho">Evolución anual de casos del hecho</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#mapa-de-calor-de-casos-por-departamento-y-tabla-de-participacion-porcentual-por-departamento">Mapa de calor de casos por departamento y tabla de participación porcentual por departamento</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Autor: Msc Jesús D. Zamora Th.
Coautora: Bianca Yibirin U.
Coautora: Laura V. Velásquez O.

</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Msc Jesús D. Zamora Th..
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>